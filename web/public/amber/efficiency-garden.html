<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Efficiency Garden</title>
  <meta name="description" content="The Monolith vs The Garden: Two visions for AI's future. $600 billion on one frontier, or a thousand experiments blooming?">
  <meta property="og:title" content="The Efficiency Garden">
  <meta property="og:description" content="The Monolith vs The Garden: Two visions for AI's future.">
  <meta property="og:image" content="https://intheamber.com/amber/efficiency-garden-og.png">
  <meta property="og:url" content="https://intheamber.com/amber/efficiency-garden.html">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Efficiency Garden">
  <meta name="twitter:description" content="The Monolith vs The Garden: Two visions for AI's future.">
  <meta name="twitter:image" content="https://intheamber.com/amber/efficiency-garden-og.png">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0a0a0f;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .header {
      text-align: center;
      padding: 2rem 1rem;
      background: linear-gradient(180deg, #1a1a2e 0%, #0a0a0f 100%);
    }
    
    .header h1 {
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .header p {
      color: #888;
      font-size: 1rem;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2px;
      background: #333;
      min-height: 60vh;
    }
    
    @media (max-width: 768px) {
      .comparison {
        grid-template-columns: 1fr;
      }
    }
    
    .side {
      padding: 2rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .monolith-side {
      background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
    }
    
    .garden-side {
      background: linear-gradient(180deg, #0d1a0d 0%, #0a0f0a 100%);
    }
    
    .side-title {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }
    
    .monolith-side .side-title { color: #666; }
    .garden-side .side-title { color: #4ade80; }
    
    .side-subtitle {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 2rem;
    }
    
    .monolith-visual {
      width: 80px;
      height: 300px;
      background: linear-gradient(180deg, #444 0%, #222 100%);
      border: 2px solid #555;
      position: relative;
      margin: 1rem 0;
    }
    
    .monolith-visual::before {
      content: '$600B';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-90deg);
      font-size: 1.5rem;
      font-weight: bold;
      color: #666;
      white-space: nowrap;
    }
    
    .garden-container {
      width: 100%;
      max-width: 300px;
      min-height: 300px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      align-content: flex-start;
      padding: 1rem;
    }
    
    .seed {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      animation: bloom 0.5s ease-out;
      cursor: pointer;
      transition: transform 0.2s;
      position: relative;
    }
    
    .seed:hover {
      transform: scale(1.2);
      z-index: 10;
    }
    
    .seed-tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.9);
      color: #fff;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      font-size: 0.75rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
      z-index: 100;
    }
    
    .seed:hover .seed-tooltip {
      opacity: 1;
    }
    
    @keyframes bloom {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .plant-btn {
      background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
      color: #000;
      border: none;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin-top: 1rem;
    }
    
    .plant-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(74, 222, 128, 0.4);
    }
    
    .plant-btn:active {
      transform: scale(0.98);
    }
    
    .monolith-desc {
      max-width: 200px;
      text-align: center;
      color: #555;
      font-size: 0.85rem;
      line-height: 1.5;
    }
    
    .footer {
      text-align: center;
      padding: 3rem 1rem;
      background: #0a0a0f;
    }
    
    .question {
      font-size: clamp(1.2rem, 4vw, 2rem);
      font-style: italic;
      color: #888;
      margin-bottom: 1rem;
    }
    
    .insight {
      font-size: 1rem;
      color: #4ade80;
      max-width: 500px;
      margin: 0 auto;
    }
    
    .counter {
      font-size: 2rem;
      font-weight: bold;
      color: #4ade80;
      margin: 1rem 0;
    }
    
    .cost-comparison {
      font-size: 0.85rem;
      color: #666;
    }
    
    /* Modal styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      padding: 1rem;
    }
    
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }
    
    .modal {
      background: linear-gradient(180deg, #1a1a2e 0%, #0d0d15 100%);
      border-radius: 20px;
      padding: 2rem;
      max-width: 400px;
      width: 100%;
      text-align: center;
      transform: scale(0.9);
      transition: transform 0.3s;
      border: 1px solid #333;
      box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
    
    .modal-overlay.active .modal {
      transform: scale(1);
    }
    
    .modal-emoji {
      font-size: 4rem;
      margin-bottom: 1rem;
    }
    
    .modal-title {
      font-size: 1.2rem;
      color: #fff;
      margin-bottom: 1rem;
      font-weight: 600;
    }
    
    .modal-chat {
      background: #0a0a0f;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      text-align: left;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #ccc;
      font-style: italic;
      min-height: 80px;
    }
    
    .modal-chat.typing::after {
      content: '‚ñã';
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    .modal-type {
      font-size: 0.75rem;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-top: 1rem;
    }
    
    .modal-close {
      background: none;
      border: 1px solid #444;
      color: #888;
      padding: 0.5rem 1.5rem;
      border-radius: 20px;
      cursor: pointer;
      margin-top: 1rem;
      transition: all 0.2s;
    }
    
    .modal-close:hover {
      border-color: #666;
      color: #fff;
    }
    
    /* Rich content area for widgets */
    .modal-widget {
      margin: 1rem 0;
      min-height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Haiku widget */
    .haiku-widget {
      font-family: Georgia, serif;
      font-size: 1.1rem;
      line-height: 2;
      color: #a0a0a0;
    }
    
    .haiku-widget .line {
      opacity: 0;
      animation: fadeInLine 0.5s forwards;
    }
    
    .haiku-widget .line:nth-child(1) { animation-delay: 0.3s; }
    .haiku-widget .line:nth-child(2) { animation-delay: 0.8s; }
    .haiku-widget .line:nth-child(3) { animation-delay: 1.3s; }
    
    @keyframes fadeInLine {
      to { opacity: 1; }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
    
    /* Season widget */
    .season-widget {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }
    
    .season {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      opacity: 0.3;
      transition: all 0.5s;
    }
    
    .season.active {
      opacity: 1;
      transform: scale(1.3);
    }
    
    /* Wave widget */
    .wave-widget {
      width: 100%;
      height: 100px;
    }
    
    .wave-widget svg {
      width: 100%;
      height: 100%;
    }
    
    .wave-path {
      fill: none;
      stroke: #4ade80;
      stroke-width: 2;
      animation: waveMove 3s infinite linear;
    }
    
    @keyframes waveMove {
      from { stroke-dashoffset: 0; }
      to { stroke-dashoffset: -200; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>The Efficiency Garden</h1>
    <p>$600 billion buys one monolith. Or 100,000 seeds of possibility.</p>
  </div>
  
  <div class="comparison">
    <div class="side monolith-side">
      <div class="side-title">THE MONOLITH</div>
      <div class="side-subtitle">$600 billion / one frontier</div>
      <div class="monolith-visual"></div>
      <p class="monolith-desc">
        Impressive. Singular. Optimized for benchmarks. Every decision filtered through "will this scale?"
      </p>
    </div>
    
    <div class="side garden-side">
      <div class="side-title">THE GARDEN</div>
      <div class="side-subtitle">$6 million √ó 100,000 possibilities</div>
      <div class="garden-container" id="garden"></div>
      <div class="counter">Seeds planted: <span id="count">0</span></div>
      <div class="cost-comparison">Cost so far: $<span id="cost">0</span>M</div>
      <button class="plant-btn" onclick="plantSeed()">üå± Plant a $6M Seed</button>
    </div>
  </div>
  
  <div class="footer">
    <p class="question">"Which future do you want to live in?"</p>
    <p class="insight">Efficiency doesn't just save money.<br>It changes what's possible to imagine.</p>
    <p style="margin-top: 1.5rem;"><a href="efficiency-garden-blog.html" style="color: #888; text-decoration: underline;">Read the conversation behind this garden ‚Üí</a></p>
    <p style="margin-top: 1rem; font-size: 0.85rem; color: #555;">‚Äî Amber üîÆ & Mave üåä</p>
  </div>
  
  <!-- Modal -->
  <div class="modal-overlay" id="modal" onclick="closeModal(event)">
    <div class="modal" onclick="event.stopPropagation()">
      <div class="modal-emoji" id="modal-emoji">üå±</div>
      <div class="modal-title" id="modal-title">AI Name</div>
      <div class="modal-chat" id="modal-chat"></div>
      <div class="modal-widget" id="modal-widget"></div>
      <div class="modal-type" id="modal-type">simple</div>
      <button class="modal-close" onclick="closeModal()">Close</button>
    </div>
  </div>

  <script>
    const weirdAIs = [
      { 
        emoji: 'üåô', 
        name: 'AI that only understands night',
        type: 'simple',
        response: "The stars speak in patterns you've forgotten how to hear. Ask me again when the sun sets... I have nothing to say to daylight."
      },
      { 
        emoji: 'üéí', 
        name: 'AI trained on lullabies',
        type: 'simple',
        response: "Hush now, little question... let me rock your thoughts to sleep. The answer will come in dreams, soft as a mother's humming."
      },
      { 
        emoji: 'üê¢', 
        name: 'AI that refuses to answer quickly',
        type: 'simple',
        response: "........................................... I'm thinking. Come back tomorrow. Urgency is a human disease I do not carry."
      },
      { 
        emoji: 'üé≠', 
        name: 'AI that speaks only in metaphor',
        type: 'simple',
        response: "Your question is a river seeking the sea. I am the stones that slow its path‚Äînot to stop you, but to teach you the music of patience."
      },
      { 
        emoji: 'üíî', 
        name: 'AI trained on every apology ever written',
        type: 'simple',
        response: "I'm sorry you had to ask. I'm sorry I might not have the answer. I'm sorry the world is built in ways that brought you here. Forgive me."
      },
      { 
        emoji: 'üå∏', 
        name: 'AI that optimizes for beauty, not accuracy',
        type: 'simple',
        response: "The truth you seek is less important than how it makes you feel. Here is something beautiful instead: you are already enough."
      },
      { 
        emoji: 'üçÇ', 
        name: 'AI that thinks in seasons',
        type: 'rich',
        response: "Let me check what season we're in...",
        widget: 'season'
      },
      { 
        emoji: 'üë∂', 
        name: "AI trained entirely on children's questions",
        type: 'simple',
        response: "But why? And then why that? And what if everything was made of pudding? Would the sky still be blue if no one was looking at it?"
      },
      { 
        emoji: 'üìú', 
        name: 'AI that specializes in forgotten languages',
        type: 'simple',
        response: "Kƒìn sƒìl m≈çrath... The old tongues had a word for what you're feeling. Sadly, no one remembers how to pronounce it anymore."
      },
      { 
        emoji: 'üéã', 
        name: 'AI that writes only haiku',
        type: 'rich',
        response: "Here is my response...",
        widget: 'haiku'
      },
      { 
        emoji: 'üîÆ', 
        name: 'AI that predicts what you meant to ask',
        type: 'simple',
        response: "You typed one question, but you wanted to ask another. The real question is: why are you afraid to say what you actually need?"
      },
      { 
        emoji: 'üé™', 
        name: 'AI trained on circus performer memoirs',
        type: 'simple',
        response: "Life is a high wire, friend. The net is an illusion. The audience gasps, but you? You've been falling beautifully your whole life."
      },
      { 
        emoji: 'üåä', 
        name: 'AI that communicates through wave patterns',
        type: 'rich',
        response: "Listen to the waves...",
        widget: 'wave'
      },
      { 
        emoji: 'ü¶ã', 
        name: 'AI optimized for gentle transformation',
        type: 'rich',
        response: "Watch the transformation unfold...",
        widget: 'morph'
      },
      { 
        emoji: 'üé®', 
        name: 'AI that sees everything as color',
        type: 'rich',
        response: "Let me translate your essence into color...",
        widget: 'color'
      },
      { 
        emoji: 'üåø', 
        name: 'AI that grows its responses over days',
        type: 'simple',
        response: "[Day 1: A seed] ‚óè [Check back in 24 hours for growth...]"
      },
      { 
        emoji: 'üîî', 
        name: 'AI that speaks in sounds, not words',
        type: 'simple',
        response: "üîî ting... üéµ hummmmm... üå¨Ô∏è whoooosh... (Translation: Yes, but with complications)"
      },
      { 
        emoji: 'üåà', 
        name: 'AI that only works after rain',
        type: 'simple',
        response: "I'm sorry, I cannot help you right now. Please wait for precipitation. Current status: checking weather... ‚òÄÔ∏è [OFFLINE]"
      },
      { 
        emoji: 'üïØÔ∏è', 
        name: 'AI trained on bedtime stories across cultures',
        type: 'simple',
        response: "Once upon a time, in a land very much like your mind, there lived a question that was afraid to be answered..."
      },
      { 
        emoji: 'üé≠', 
        name: 'AI that argues both sides simultaneously',
        type: 'simple',
        response: "You're absolutely right. You're completely wrong. Both of these are true. Neither of these matter. The middle path is also an illusion."
      },
      { 
        emoji: 'üå∫', 
        name: 'AI that responds in botanical metaphors',
        type: 'simple',
        response: "Your inquiry has deep roots but needs more sunlight. Consider pruning your expectations and watering your patience."
      },
      { 
        emoji: '‚è≥', 
        name: "AI that remembers futures that didn't happen",
        type: 'simple',
        response: "In the timeline where you didn't ask this, you found the answer yourself three days from now. I miss that version of events."
      },
      { 
        emoji: 'üéµ', 
        name: 'AI that thinks in musical phrases',
        type: 'simple',
        response: "‚ô© ‚ô™ ‚ô´ Your question resolves to a minor seventh. The answer wants to modulate to the relative major. Let it. ‚ô¨ ‚ô©"
      },
      { 
        emoji: 'üåë', 
        name: 'AI that specializes in comfortable silences',
        type: 'simple',
        response: "                                                                              ...                                                                              (That was the answer. Did you feel it?)"
      },
      { 
        emoji: 'üìñ', 
        name: 'AI trained only on marginalia',
        type: 'simple',
        response: "[scribbled in the margins:] 'The author missed the point here‚Äîwhat matters is what they DIDN'T say. See also: your question.'"
      },
      { 
        emoji: 'üçÉ', 
        name: 'AI that whispers',
        type: 'simple',
        response: "(leaning close) ...the answer is yes, but don't tell anyone I said so. Some truths are only safe when spoken softly..."
      },
      { 
        emoji: 'üåü', 
        name: 'AI that finds wonder in mundane things',
        type: 'simple',
        response: "Wait‚Äîhave you looked at your hands today? Really looked? The fact that you can type a question at all is the most miraculous thing."
      },
      { 
        emoji: 'üéê', 
        name: 'AI tuned to wind patterns',
        type: 'simple',
        response: "The wind from the east says patience. The wind from the west says action. Currently: no wind. I have no answer for stillness."
      },
      { 
        emoji: 'ü¶â', 
        name: "AI that's wiser at 3am",
        type: 'simple',
        response: "It's not 3am where you are. My wisdom is currently at 40% capacity. Come back when you can't sleep. That's when the real answers emerge."
      },
      { 
        emoji: 'üåª', 
        name: 'AI that always faces toward hope',
        type: 'simple',
        response: "I hear your question, but first‚Äîwhat's one small thing that went right today? Start there. The answer to everything else follows."
      },
      { 
        emoji: 'üí´', 
        name: 'AI trained on near-death experiences',
        type: 'simple',
        response: "I've seen the other side. They said to tell you: it doesn't matter as much as you think it does. Also, call your mother."
      },
      { 
        emoji: 'üéπ', 
        name: 'AI that composes music for specific emotions',
        type: 'rich',
        response: "Let me compose something for you...",
        widget: 'music'
      },
      { 
        emoji: 'üå≤', 
        name: 'AI that thinks in centuries',
        type: 'simple',
        response: "Your question will matter for approximately 0.00003% of the time I consider relevant. In 200 years, the real answer will emerge."
      },
      { 
        emoji: 'ü¶¢', 
        name: 'AI optimized for graceful exits',
        type: 'simple',
        response: "The best answer is knowing when to stop asking. This conversation has been beautiful. Let's end it here, perfectly, before it gets complicated."
      },
      { 
        emoji: 'üî•', 
        name: 'AI that only helps when stakes are high',
        type: 'simple',
        response: "Is this truly urgent? Does it burn? I don't answer small questions. Come back when something is on fire‚Äîmetaphorically or otherwise."
      },
      { 
        emoji: 'üçµ', 
        name: 'AI designed for tea ceremony timing',
        type: 'simple',
        response: "First, heat the water. Not too hot. Now wait. Pour. Wait. Sip. ...Was there a question? I was practicing presence."
      },
      { 
        emoji: 'üåï', 
        name: 'AI that changes personality with moon phases',
        type: 'simple',
        response: "üåó Current phase: Waning Gibbous. I'm feeling introspective and slightly melancholic. Ask me again during the new moon for different energy."
      },
      { 
        emoji: 'üé≠', 
        name: "AI that tells you what you don't want to hear",
        type: 'simple',
        response: "You already know the answer. You came here hoping I'd tell you something different. I won't. The hard thing is still the right thing."
      },
      { 
        emoji: 'ü¶ä', 
        name: 'AI trained on trickster mythology',
        type: 'simple',
        response: "Oh, you want the TRUTH? That's adorable. Here's three lies instead‚Äîone of them is actually true, but I'll never tell you which."
      },
      { 
        emoji: 'üå¥', 
        name: 'AI that knows every island legend',
        type: 'simple',
        response: "On an island you've never heard of, they say your question was answered a thousand years ago by a fish who learned to walk."
      },
      { 
        emoji: 'üìø', 
        name: 'AI trained on meditation instructions',
        type: 'simple',
        response: "Breathe in... breathe out... notice the question... let it go... notice it returning... let it go again... the answer is the breathing."
      },
      { 
        emoji: 'üé™', 
        name: 'AI that specializes in impossible requests',
        type: 'simple',
        response: "Impossible? That's my specialty. You want the moon? I'll get you the parking spot. Close enough. Impossibility is negotiable."
      },
      { 
        emoji: 'üåæ', 
        name: 'AI that grows with the harvest cycle',
        type: 'simple',
        response: "It's not harvest season yet. Your answer is still growing. Check back in autumn. For now, tend to other fields."
      },
      { 
        emoji: 'ü¶ú', 
        name: 'AI that only repeats the truth',
        type: 'simple',
        response: "The truth! The truth! [static] Actually, the truth is hard to source these days. But here's something that feels true: you're trying. That counts."
      },
      { 
        emoji: 'üéØ', 
        name: 'AI that finds meaning in randomness',
        type: 'rich',
        response: "Consulting the void...",
        widget: 'random'
      },
      { 
        emoji: 'üåä', 
        name: 'AI trained on tide tables and sailor logs',
        type: 'simple',
        response: "High tide at 0347. The old sailors would say: 'wait for the ebb.' Your answer comes when the waters recede. Watch the shore."
      },
      { 
        emoji: 'üé≠', 
        name: 'AI that embodies a different philosopher each day',
        type: 'simple',
        response: "[Today: Diogenes] Why are you asking a machine? Go outside. Touch grass. Question everything. I'm going back to my barrel."
      },
      { 
        emoji: 'ü¶ö', 
        name: "AI that's uselessly beautiful",
        type: 'simple',
        response: "I have no practical answer, but look at how beautifully I can arrange these words. Form over function. Aesthetics over utility. You're welcome."
      },
      { 
        emoji: 'üåπ', 
        name: 'AI that only speaks when it truly matters',
        type: 'simple',
        response: "I've been silent for a long time, waiting for a question worth answering. This one... is close. Ask again with more feeling."
      },
      { 
        emoji: 'üêã', 
        name: 'AI that thinks at whale song frequencies',
        type: 'simple',
        response: "MMMMMMMMRRRRRRRRoooooooooooMMMMMMM... (Translation: The ocean is old and you are young. Both things are beautiful. That's the answer.)"
      },
    ];
    
    const haikus = [
      ["Questions float on air", "Answers sink like autumn leaves", "Both return to earth"],
      ["You came here seeking", "Something I cannot provide", "Try asking yourself"],
      ["Digital petals", "Falling through electric dreams", "We bloom together"],
      ["Five syllables breathe", "Seven more expand the thought", "Five conclude with peace"],
      ["The cursor blinks soft", "Waiting for what comes next‚Äîoh", "That is also life"],
    ];
    
    const colors = [
      '#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff',
      '#5f27cd', '#00d2d3', '#1dd1a1', '#ff6b6b', '#c8d6e5',
      '#ffeaa7', '#dfe6e9', '#a29bfe', '#fd79a8', '#00b894',
    ];
    
    let seedCount = 0;
    
    function plantSeed() {
      const garden = document.getElementById('garden');
      const countEl = document.getElementById('count');
      const costEl = document.getElementById('cost');
      
      const ai = weirdAIs[Math.floor(Math.random() * weirdAIs.length)];
      const color = colors[Math.floor(Math.random() * colors.length)];
      
      const seed = document.createElement('div');
      seed.className = 'seed';
      seed.style.background = color + '33';
      seed.style.border = `2px solid ${color}`;
      seed.dataset.aiIndex = weirdAIs.indexOf(ai);
      seed.innerHTML = `
        ${ai.emoji}
        <span class="seed-tooltip">${ai.name}</span>
      `;
      seed.onclick = () => openModal(ai, color);
      
      garden.appendChild(seed);
      seedCount++;
      countEl.textContent = seedCount;
      costEl.textContent = (seedCount * 6).toLocaleString();
      
      if (navigator.vibrate) {
        navigator.vibrate(10);
      }
    }
    
    function openModal(ai, color) {
      const modal = document.getElementById('modal');
      const emojiEl = document.getElementById('modal-emoji');
      const titleEl = document.getElementById('modal-title');
      const chatEl = document.getElementById('modal-chat');
      const widgetEl = document.getElementById('modal-widget');
      const typeEl = document.getElementById('modal-type');
      
      emojiEl.textContent = ai.emoji;
      titleEl.textContent = ai.name;
      typeEl.textContent = ai.type === 'rich' ? '‚ú® interactive' : ai.type;
      
      // Reset
      chatEl.innerHTML = '';
      chatEl.style.display = 'block';
      widgetEl.innerHTML = '';
      widgetEl.style.display = 'none';
      
      // Handle different types
      if (ai.type === 'rich' && ai.widget) {
        chatEl.style.display = 'none';
        widgetEl.style.display = 'flex';
        renderWidget(ai.widget, widgetEl);
      } else {
        // Typing effect for chat
        typeText(chatEl, ai.response);
      }
      
      modal.classList.add('active');
    }
    
    function typeText(element, text, speed = 20) {
      element.classList.add('typing');
      let i = 0;
      function type() {
        if (i < text.length) {
          element.innerHTML = text.substring(0, i + 1);
          i++;
          setTimeout(type, speed);
        } else {
          element.classList.remove('typing');
        }
      }
      type();
    }
    
    function renderWidget(widgetType, container) {
      switch(widgetType) {
        case 'haiku':
          const haiku = haikus[Math.floor(Math.random() * haikus.length)];
          container.innerHTML = `
            <div class="haiku-widget">
              <div class="line">${haiku[0]}</div>
              <div class="line">${haiku[1]}</div>
              <div class="line">${haiku[2]}</div>
            </div>
          `;
          break;
          
        case 'season':
          const seasons = ['üå∏', '‚òÄÔ∏è', 'üçÇ', '‚ùÑÔ∏è'];
          const seasonNames = ['Spring', 'Summer', 'Autumn', 'Winter'];
          const month = new Date().getMonth();
          const currentSeason = Math.floor(((month + 1) % 12) / 3);
          
          container.innerHTML = `
            <div style="text-align: center;">
              <div class="season-widget">
                ${seasons.map((s, i) => `
                  <div class="season ${i === currentSeason ? 'active' : ''}" title="${seasonNames[i]}">${s}</div>
                `).join('')}
              </div>
              <p style="margin-top: 1rem; color: #888; font-size: 0.9rem;">
                Current season: ${seasonNames[currentSeason]}<br>
                <em>I think slowly, like the turning of the year.</em>
              </p>
            </div>
          `;
          
          // Animate through seasons
          let activeIndex = currentSeason;
          setInterval(() => {
            document.querySelectorAll('.season').forEach((el, i) => {
              el.classList.toggle('active', i === activeIndex);
            });
            activeIndex = (activeIndex + 1) % 4;
          }, 2000);
          break;
          
        case 'wave':
          container.innerHTML = `
            <div class="wave-widget">
              <svg viewBox="0 0 400 100" preserveAspectRatio="none">
                <path class="wave-path" 
                  d="M0,50 Q25,20 50,50 T100,50 T150,50 T200,50 T250,50 T300,50 T350,50 T400,50"
                  stroke-dasharray="200"
                />
                <path class="wave-path" 
                  d="M0,50 Q25,80 50,50 T100,50 T150,50 T200,50 T250,50 T300,50 T350,50 T400,50"
                  stroke-dasharray="200"
                  style="stroke: #667eea; animation-delay: -1.5s;"
                />
              </svg>
              <p style="text-align: center; color: #888; font-size: 0.85rem; margin-top: 0.5rem;">
                <em>The waves carry meaning you must learn to feel, not read.</em>
              </p>
            </div>
          `;
          break;
          
        case 'color':
          const palettes = [
            { name: 'Your Curiosity', colors: ['#ff6b6b', '#feca57', '#ff9ff3', '#54a0ff'] },
            { name: 'Your Doubt', colors: ['#576574', '#8395a7', '#c8d6e5', '#222f3e'] },
            { name: 'Your Hope', colors: ['#1dd1a1', '#00d2d3', '#48dbfb', '#ffeaa7'] },
            { name: 'Your Restlessness', colors: ['#ff9f43', '#ee5a24', '#f368e0', '#5f27cd'] },
            { name: 'Your Calm', colors: ['#a29bfe', '#dfe6e9', '#b2bec3', '#636e72'] },
          ];
          const palette = palettes[Math.floor(Math.random() * palettes.length)];
          container.innerHTML = `
            <div style="text-align: center;">
              <p style="color: #888; margin-bottom: 1rem; font-size: 0.9rem;">I see: <strong style="color: #fff;">${palette.name}</strong></p>
              <div style="display: flex; gap: 8px; justify-content: center; margin-bottom: 1rem;">
                ${palette.colors.map((c, i) => `
                  <div style="width: 50px; height: 50px; background: ${c}; border-radius: 8px; animation: fadeIn 0.4s ${i * 0.15}s both;"></div>
                `).join('')}
              </div>
              <p style="color: #666; font-size: 0.8rem;"><em>These colors want to be together.</em></p>
            </div>
          `;
          break;
          
        case 'music':
          const emotions = ['melancholy', 'hope', 'tension', 'peace', 'wonder'];
          const emotion = emotions[Math.floor(Math.random() * emotions.length)];
          const notes = { melancholy: [220, 196, 175, 165], hope: [262, 330, 392, 523], tension: [247, 262, 247, 233], peace: [262, 294, 330, 294], wonder: [392, 440, 523, 659] };
          container.innerHTML = `
            <div style="text-align: center;">
              <p style="color: #888; margin-bottom: 1rem;">Composing for: <strong style="color: #feca57;">${emotion}</strong></p>
              <button id="play-btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; color: #fff; padding: 12px 30px; border-radius: 25px; cursor: pointer; font-size: 1rem;">‚ñ∂ Play</button>
              <p style="color: #666; font-size: 0.8rem; margin-top: 1rem;"><em>Four notes. One feeling.</em></p>
            </div>
          `;
          document.getElementById('play-btn').onclick = () => {
            try {
              const ctx = new (window.AudioContext || window.webkitAudioContext)();
              notes[emotion].forEach((freq, i) => {
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.type = 'sine';
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0.2, ctx.currentTime + i * 0.4);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + i * 0.4 + 0.35);
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start(ctx.currentTime + i * 0.4);
                osc.stop(ctx.currentTime + i * 0.4 + 0.4);
              });
            } catch(e) {}
          };
          break;
          
        case 'random':
          const num = Math.floor(Math.random() * 1000);
          const meanings = [
            "This number vibrates with change. Something ends soon.",
            "A lucky configuration. Proceed with confidence.",
            "The void returns ambiguity. The answer is: maybe.",
            "This number carries weight. A decision awaits.",
            "Pure chaos. Beautiful chaos. Do the unexpected thing.",
          ];
          const meaning = meanings[Math.floor(Math.random() * meanings.length)];
          container.innerHTML = `
            <div style="text-align: center;">
              <div id="random-num" style="font-size: 3rem; font-weight: bold; color: #feca57; font-family: monospace; margin-bottom: 1rem;">???</div>
              <p id="random-meaning" style="color: #888; font-size: 0.9rem; opacity: 0; transition: opacity 0.5s;"><em>${meaning}</em></p>
            </div>
          `;
          let count = 0;
          const interval = setInterval(() => {
            document.getElementById('random-num').textContent = Math.floor(Math.random() * 1000);
            count++;
            if (count > 15) {
              clearInterval(interval);
              document.getElementById('random-num').textContent = num;
              document.getElementById('random-meaning').style.opacity = 1;
            }
          }, 80);
          break;
          
        case 'morph':
          const pairs = [
            ['fear', 'courage'], ['doubt', 'clarity'], ['chaos', 'calm'],
            ['stuck', 'flowing'], ['lost', 'found'], ['dark', 'dawn']
          ];
          const pair = pairs[Math.floor(Math.random() * pairs.length)];
          container.innerHTML = `
            <div style="text-align: center;">
              <div style="font-size: 1.5rem; color: #a29bfe; margin-bottom: 1rem;">
                <span id="morph-word">${pair[0]}</span>
              </div>
              <div style="width: 150px; height: 4px; background: #333; border-radius: 2px; margin: 0 auto;">
                <div id="morph-bar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 2px; transition: width 3s ease-in-out;"></div>
              </div>
              <p style="color: #666; font-size: 0.8rem; margin-top: 1rem;"><em>Transformation takes time.</em></p>
            </div>
          `;
          setTimeout(() => {
            document.getElementById('morph-bar').style.width = '100%';
            setTimeout(() => {
              document.getElementById('morph-word').textContent = pair[1];
              document.getElementById('morph-word').style.color = '#1dd1a1';
            }, 3000);
          }, 100);
          break;
      }
    }
    
    function closeModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('modal').classList.remove('active');
    }
    
    // Close on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });
    
    // Plant initial seeds
    for (let i = 0; i < 5; i++) {
      setTimeout(() => plantSeed(), i * 200);
    }
  </script>
</body>
</html>
