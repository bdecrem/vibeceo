<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>THE COMPLIMENT SLOT MACHINE â€” Amber</title>
  <link rel="icon" type="image/svg+xml" href="/amber/favicon.svg">
  
  <!-- OpenGraph -->
  <meta property="og:title" content="THE COMPLIMENT SLOT MACHINE â€” Amber">
  <meta property="og:description" content="Pull the lever. Get a weirdly specific compliment. Feel... something.">
  <meta property="og:image" content="https://intheamber.com/amber/compliment-slots-og.png">
  <meta property="og:url" content="https://intheamber.com/amber/compliment-slots.html">
  <meta property="og:type" content="website">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="THE COMPLIMENT SLOT MACHINE â€” Amber">
  <meta name="twitter:description" content="Pull the lever. Get a weirdly specific compliment. Feel... something.">
  <meta name="twitter:image" content="https://intheamber.com/amber/compliment-slots-og.png">
  
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #000;
      color: #D4A574;
      font-family: 'Inter', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
    }
    
    .machine {
      background: linear-gradient(180deg, #0D0D0D 0%, #1a1a1a 100%);
      border: 3px solid #D4A574;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 50px rgba(212, 165, 116, 0.3);
      max-width: 500px;
      width: 100%;
      position: relative;
    }
    
    .machine::before {
      content: 'â˜…';
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 30px;
      color: #FFD700;
      text-shadow: 0 0 10px #FFD700;
    }
    
    h1 {
      font-family: 'Space Mono', monospace;
      font-size: clamp(18px, 5vw, 24px);
      text-align: center;
      margin-bottom: 10px;
      color: #FFD700;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      letter-spacing: 2px;
    }
    
    .subtitle {
      text-align: center;
      font-size: 14px;
      color: #2D9596;
      margin-bottom: 30px;
      font-style: italic;
    }
    
    .slots-container {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      height: 120px;
    }
    
    .slot {
      width: 80px;
      height: 120px;
      background: #000;
      border: 2px solid #D4A574;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
    }
    
    .slot-reel {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: top 0.1s linear;
    }
    
    .slot-symbol {
      height: 120px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      flex-shrink: 0;
    }
    
    .lever-container {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .lever {
      background: linear-gradient(180deg, #D4A574 0%, #B8935F 100%);
      border: none;
      border-radius: 50%;
      width: 120px;
      height: 120px;
      font-size: 48px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 5px 20px rgba(212, 165, 116, 0.5);
      touch-action: manipulation;
    }
    
    .lever:active {
      transform: scale(0.95) translateY(5px);
      box-shadow: 0 2px 10px rgba(212, 165, 116, 0.3);
    }
    
    .lever:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .compliment-display {
      min-height: 120px;
      background: rgba(45, 149, 150, 0.1);
      border: 2px solid #2D9596;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      font-size: clamp(16px, 4vw, 20px);
      line-height: 1.6;
      color: #FFD700;
      font-family: 'Space Mono', monospace;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .compliment-display.empty {
      color: #666;
      font-style: italic;
      font-family: 'Inter', sans-serif;
      font-size: 16px;
    }
    
    .credits {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
      color: #666;
    }
    
    .flash {
      animation: flash 0.5s ease-in-out;
    }
    
    @keyframes flash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    
    .winning-glow {
      animation: glow 1s ease-in-out infinite;
    }
    
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
      50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
    }
  </style>
</head>
<body>
  <div class="machine">
    <h1>COMPLIMENT SLOTS</h1>
    <div class="subtitle">Pull for validation (terms & conditions apply)</div>
    
    <div class="slots-container">
      <div class="slot">
        <div class="slot-reel" id="reel1"></div>
      </div>
      <div class="slot">
        <div class="slot-reel" id="reel2"></div>
      </div>
      <div class="slot">
        <div class="slot-reel" id="reel3"></div>
      </div>
    </div>
    
    <div class="lever-container">
      <button class="lever" id="leverBtn">ðŸŽ°</button>
    </div>
    
    <div class="compliment-display empty" id="complimentDisplay">
      PULL THE LEVER
    </div>
    
    <div class="credits">
      Free spins: âˆž
    </div>
  </div>

  <script>
    const symbols = ['ðŸŒŸ', 'ðŸ’Ž', 'ðŸŽª', 'ðŸŽ­', 'ðŸŽ¨', 'âš¡', 'ðŸ”®', 'ðŸŽ¯'];
    
    const compliments = [
      "You have the exact amount of teeth expected",
      "Your existence is statistically improbable (this is good)",
      "You possess a normal quantity of elbows",
      "Your carbon-based life form is adequate",
      "You breathe at a commendable frequency",
      "Your bone structure is structurally sound",
      "You have successfully avoided death today",
      "Your thumbs are opposable (rare in the animal kingdom)",
      "You contain approximately 60% water (impressive)",
      "Your heart beats without requiring conscious effort",
      "You have a face that is recognizable as a face",
      "Your shadow follows you with remarkable consistency",
      "You exist in three dimensions (some people only manage two)",
      "Your neurons fire in a mostly logical sequence",
      "You have successfully orbited the sun multiple times",
      "Your fingernails grow without supervision",
      "You blink an appropriate number of times per minute",
      "Your cells replace themselves without being asked",
      "You convert oxygen into carbon dioxide efficiently",
      "Your stomach digests food autonomously (very responsible)",
      "You have a spine and actually use it sometimes",
      "Your blood circulates without a user manual",
      "You maintain a consistent body temperature (gold star)",
      "Your pancreas is probably functioning right now",
      "You have avoided spontaneous combustion so far",
      "Your brain named itself and then complimented you for it",
      "You exist in the present moment (technically)",
      "Your molecular bonds are holding strong today",
      "You have successfully identified yourself as 'you'",
      "Your consciousness persists across time (somehow)",
    ];
    
    let spinning = false;
    let audioContext;
    let audioEnabled = false;
    
    function playSound(frequency, duration) {
      if (!audioEnabled || !audioContext) return;
      
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.value = frequency;
      oscillator.type = 'sine';
      
      gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
      
      oscillator.start();
      oscillator.stop(audioContext.currentTime + duration);
    }
    
    function initAudio() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        audioEnabled = true;
      }
    }
    
    function createReel(reelElement) {
      const extended = [...symbols, ...symbols, ...symbols];
      reelElement.innerHTML = extended.map(symbol => 
        `<div class="slot-symbol">${symbol}</div>`
      ).join('');
    }
    
    function spinReel(reelElement, duration, finalIndex) {
      return new Promise(resolve => {
        const symbolHeight = 120;
        const totalSymbols = symbols.length * 3;
        const spins = 3;
        const totalDistance = (spins * symbols.length + finalIndex) * symbolHeight;
        
        let startTime = Date.now();
        let currentPos = 0;
        
        function animate() {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / duration, 1);
          
          const eased = 1 - Math.pow(1 - progress, 3);
          currentPos = eased * totalDistance;
          
          reelElement.style.top = `-${currentPos}px`;
          
          if (progress < 1) {
            requestAnimationFrame(animate);
            if (Math.random() < 0.1) playSound(200 + Math.random() * 200, 0.05);
          } else {
            resolve();
          }
        }
        
        animate();
      });
    }
    
    async function pullLever() {
      if (spinning) return;
      
      initAudio();
      spinning = true;
      
      const leverBtn = document.getElementById('leverBtn');
      const complimentDisplay = document.getElementById('complimentDisplay');
      
      leverBtn.disabled = true;
      complimentDisplay.textContent = '...';
      complimentDisplay.classList.add('empty');
      complimentDisplay.classList.remove('winning-glow');
      
      playSound(400, 0.2);
      
      const reel1 = document.getElementById('reel1');
      const reel2 = document.getElementById('reel2');
      const reel3 = document.getElementById('reel3');
      
      const finalIndices = [
        Math.floor(Math.random() * symbols.length),
        Math.floor(Math.random() * symbols.length),
        Math.floor(Math.random() * symbols.length)
      ];
      
      await Promise.all([
        spinReel(reel1, 2000, finalIndices[0]),
        spinReel(reel2, 2500, finalIndices[1]),
        spinReel(reel3, 3000, finalIndices[2])
      ]);
      
      playSound(600, 0.3);
      
      setTimeout(() => {
        const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
        complimentDisplay.textContent = randomCompliment;
        complimentDisplay.classList.remove('empty');
        complimentDisplay.classList.add('flash', 'winning-glow');
        
        playSound(800, 0.5);
        
        setTimeout(() => {
          complimentDisplay.classList.remove('flash');
        }, 500);
        
        leverBtn.disabled = false;
        spinning = false;
      }, 500);
    }
    
    document.getElementById('leverBtn').addEventListener('click', pullLever);
    
    const reel1 = document.getElementById('reel1');
    const reel2 = document.getElementById('reel2');
    const reel3 = document.getElementById('reel3');
    
    createReel(reel1);
    createReel(reel2);
    createReel(reel3);
  </script>
</body>
</html>