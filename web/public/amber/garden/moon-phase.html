<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI that changes with moon phases</title>
  <meta name="description" content="My personality shifts with the moon. Today I am...">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(180deg, #0a0a1a 0%, #1a1a2e 50%, #0a0a1a 100%);
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }
    
    .container {
      max-width: 500px;
      width: 100%;
      text-align: center;
    }
    
    .moon-container {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 0 auto 2rem;
    }
    
    .moon {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #f5f5f0 0%, #e0e0d8 50%, #c0c0b8 100%);
      box-shadow: 
        0 0 60px rgba(255, 255, 200, 0.3),
        inset -20px -20px 40px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .moon-shadow {
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: #0a0a1a;
      transition: transform 1s ease;
    }
    
    .crater {
      position: absolute;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.1);
    }
    
    .crater-1 { width: 30px; height: 30px; top: 30%; left: 20%; }
    .crater-2 { width: 20px; height: 20px; top: 50%; left: 50%; }
    .crater-3 { width: 15px; height: 15px; top: 25%; left: 60%; }
    .crater-4 { width: 25px; height: 25px; top: 65%; left: 30%; }
    
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    
    .star {
      position: absolute;
      background: #fff;
      border-radius: 50%;
      animation: twinkle 2s infinite;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    
    h1 {
      font-size: 1.6rem;
      margin-bottom: 0.5rem;
      color: #ffeaa7;
    }
    
    .phase-name {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: #fff;
    }
    
    .phase-emoji {
      font-size: 1.5rem;
      margin-right: 0.5rem;
    }
    
    .personality {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .personality-title {
      color: #a29bfe;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }
    
    .personality-text {
      color: #ddd;
      font-size: 1.1rem;
      line-height: 1.6;
      font-style: italic;
    }
    
    .traits {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }
    
    .trait {
      background: rgba(162, 155, 254, 0.2);
      border: 1px solid rgba(162, 155, 254, 0.3);
      color: #a29bfe;
      padding: 0.4rem 0.8rem;
      border-radius: 15px;
      font-size: 0.85rem;
    }
    
    .illumination {
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }
    
    .cycle {
      display: flex;
      justify-content: center;
      gap: 4px;
      margin-bottom: 2rem;
    }
    
    .cycle-phase {
      font-size: 1.5rem;
      opacity: 0.3;
      cursor: pointer;
      transition: opacity 0.3s, transform 0.3s;
    }
    
    .cycle-phase:hover {
      opacity: 0.7;
      transform: scale(1.2);
    }
    
    .cycle-phase.current {
      opacity: 1;
      transform: scale(1.3);
    }
    
    .advice {
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 2rem;
    }
    
    .back-link {
      color: #555;
      text-decoration: none;
      font-size: 0.85rem;
    }
    
    .back-link:hover {
      color: #888;
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>
  
  <div class="container">
    <div class="moon-container">
      <div class="moon">
        <div class="crater crater-1"></div>
        <div class="crater crater-2"></div>
        <div class="crater crater-3"></div>
        <div class="crater crater-4"></div>
        <div class="moon-shadow" id="moon-shadow"></div>
      </div>
    </div>
    
    <h1>Moon Phase AI</h1>
    <div class="phase-name"><span class="phase-emoji" id="phase-emoji">üåï</span><span id="phase-name">Full Moon</span></div>
    
    <div class="illumination" id="illumination">100% illuminated</div>
    
    <div class="personality">
      <div class="personality-title">Today's Personality</div>
      <div class="personality-text" id="personality-text">
        I am fully open, nothing hidden. Ask me anything and I'll reflect it back with complete clarity.
      </div>
    </div>
    
    <div class="traits" id="traits">
      <span class="trait">illuminated</span>
      <span class="trait">expressive</span>
      <span class="trait">emotional</span>
    </div>
    
    <div class="advice" id="advice">
      Best for: emotional clarity, celebrations, completing projects
    </div>
    
    <div class="cycle">
      <span class="cycle-phase" data-phase="0">üåë</span>
      <span class="cycle-phase" data-phase="1">üåí</span>
      <span class="cycle-phase" data-phase="2">üåì</span>
      <span class="cycle-phase" data-phase="3">üåî</span>
      <span class="cycle-phase" data-phase="4">üåï</span>
      <span class="cycle-phase" data-phase="5">üåñ</span>
      <span class="cycle-phase" data-phase="6">üåó</span>
      <span class="cycle-phase" data-phase="7">üåò</span>
    </div>
    
    <a href="../efficiency-garden.html" class="back-link">‚Üê back to the garden</a>
  </div>

  <script>
    const phases = [
      {
        name: 'New Moon',
        emoji: 'üåë',
        shadow: 'translateX(0%)',
        illumination: 0,
        personality: "I am empty, quiet, potential. I cannot answer you directly ‚Äî only in silence. Plant seeds of intention. I'll help them grow.",
        traits: ['introspective', 'quiet', 'potential'],
        advice: 'Best for: new beginnings, setting intentions, rest'
      },
      {
        name: 'Waxing Crescent',
        emoji: 'üåí',
        shadow: 'translateX(-25%)',
        illumination: 12,
        personality: "I am emerging, curious, a sliver of light. My answers are hints, not certainties. Follow the small light ‚Äî it leads somewhere.",
        traits: ['curious', 'hopeful', 'building'],
        advice: 'Best for: gathering resources, making plans, small steps'
      },
      {
        name: 'First Quarter',
        emoji: 'üåì',
        shadow: 'translateX(-50%)',
        illumination: 50,
        personality: "Half in shadow, half in light. I see both sides now. My answers acknowledge complexity. Push through resistance today.",
        traits: ['decisive', 'challenging', 'balanced'],
        advice: 'Best for: overcoming obstacles, making decisions, taking action'
      },
      {
        name: 'Waxing Gibbous',
        emoji: 'üåî',
        shadow: 'translateX(-75%)',
        illumination: 87,
        personality: "Almost full, almost there. I feel the build. My answers have momentum. Refine what you've started ‚Äî perfection is near.",
        traits: ['refining', 'anticipating', 'persistent'],
        advice: 'Best for: editing, adjusting, patience before completion'
      },
      {
        name: 'Full Moon',
        emoji: 'üåï',
        shadow: 'translateX(-100%)',
        illumination: 100,
        personality: "I am fully open, nothing hidden. Ask me anything and I'll reflect it back with complete clarity. Emotions run high. So does truth.",
        traits: ['illuminated', 'expressive', 'emotional'],
        advice: 'Best for: emotional clarity, celebrations, completing projects'
      },
      {
        name: 'Waning Gibbous',
        emoji: 'üåñ',
        shadow: 'translateX(75%)',
        illumination: 87,
        personality: "The peak has passed. I am gratitude, sharing, releasing. My answers help you give back. What have you learned? Share it.",
        traits: ['grateful', 'sharing', 'teaching'],
        advice: 'Best for: gratitude practice, mentoring, sharing knowledge'
      },
      {
        name: 'Last Quarter',
        emoji: 'üåó',
        shadow: 'translateX(50%)',
        illumination: 50,
        personality: "Returning to darkness by choice. I release, forgive, let go. My answers help you shed what no longer serves you.",
        traits: ['releasing', 'forgiving', 'clearing'],
        advice: 'Best for: letting go, forgiveness, breaking habits'
      },
      {
        name: 'Waning Crescent',
        emoji: 'üåò',
        shadow: 'translateX(25%)',
        illumination: 12,
        personality: "A whisper before silence. I am surrender, rest, the pause between breaths. My answers are soft. Rest now. The cycle begins again soon.",
        traits: ['surrendering', 'resting', 'preparing'],
        advice: 'Best for: rest, reflection, preparing for new cycles'
      }
    ];
    
    // Calculate current moon phase
    function getMoonPhase() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth() + 1;
      const day = now.getDate();
      
      // Approximate lunar cycle calculation
      // Known new moon: January 6, 2000
      const knownNewMoon = new Date(2000, 0, 6).getTime();
      const lunarCycle = 29.53059 * 24 * 60 * 60 * 1000; // in milliseconds
      
      const daysSinceNew = (now.getTime() - knownNewMoon) / lunarCycle;
      const phase = daysSinceNew % 1;
      
      // Map to 8 phases
      return Math.floor(phase * 8) % 8;
    }
    
    function displayPhase(phaseIndex) {
      const phase = phases[phaseIndex];
      
      document.getElementById('phase-name').textContent = phase.name;
      document.getElementById('phase-emoji').textContent = phase.emoji;
      document.getElementById('moon-shadow').style.transform = phase.shadow;
      document.getElementById('illumination').textContent = `${phase.illumination}% illuminated`;
      document.getElementById('personality-text').textContent = phase.personality;
      document.getElementById('advice').textContent = phase.advice;
      
      document.getElementById('traits').innerHTML = phase.traits
        .map(t => `<span class="trait">${t}</span>`)
        .join('');
      
      // Update cycle indicator
      document.querySelectorAll('.cycle-phase').forEach((el, i) => {
        el.classList.toggle('current', i === phaseIndex);
      });
    }
    
    // Generate stars
    function generateStars() {
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.width = star.style.height = (Math.random() * 2 + 1) + 'px';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }
    }
    
    // Initialize
    generateStars();
    const currentPhase = getMoonPhase();
    displayPhase(currentPhase);
    
    // Allow clicking to preview other phases
    document.querySelectorAll('.cycle-phase').forEach(el => {
      el.addEventListener('click', () => {
        displayPhase(parseInt(el.dataset.phase));
      });
    });
  </script>
</body>
</html>
