<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amber OG Design System v2</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Check for export mode via URL parameter
    const isExportMode = new URLSearchParams(window.location.search).get('export') === 'true';

    const seededRandom = (seed) => {
      const x = Math.sin(seed) * 10000;
      return x - Math.floor(x);
    };

    // === 30 COLOR PALETTES: 5 PER CONTENT TYPE (6 types) ===
    const PALETTES = {
      music: [
        { bg: '#0a0014', fg: '#00fff2', accent: '#ff00aa', name: 'Neon Club' },
        { bg: '#1a0505', fg: '#ff6b35', accent: '#ffba08', name: 'Sunset Rave' },
        { bg: '#000000', fg: '#FFD700', accent: '#2D9596', name: 'Amber Pulse' },
        { bg: '#0d1b2a', fg: '#7fdbca', accent: '#3d5a80', name: 'Midnight Set' },
        { bg: '#0a0a12', fg: '#7B68EE', accent: '#40E0D0', name: 'Violet Hour' },
      ],
      toys: [
        { bg: '#1a0a1a', fg: '#00d4ff', accent: '#ff2d7a', name: 'Arcade' },
        { bg: '#0a1a0a', fg: '#7fff00', accent: '#ff00ff', name: 'Game Boy' },
        { bg: '#000000', fg: '#FFD700', accent: '#40E0D0', name: 'Amber Play' },
        { bg: '#1a1a00', fg: '#ffd93d', accent: '#ff6b6b', name: 'Candy' },
        { bg: '#0a0a1a', fg: '#ff8c42', accent: '#2563eb', name: 'Retro' },
      ],
      inventions: [
        { bg: '#0a250a', fg: '#00ff41', accent: '#003b00', name: 'Terminal' },
        { bg: '#000050', fg: '#ffffff', accent: '#00aaaa', name: 'Blue Screen' },
        { bg: '#221a0a', fg: '#FFD700', accent: '#2D9596', name: 'Amber System' },
        { bg: '#280050', fg: '#ff00ff', accent: '#00ffff', name: 'Corruption' },
        { bg: '#221002', fg: '#ffb000', accent: '#ff4400', name: 'CRT Burn' },
      ],
      reflections: [
        { bg: '#0a0a10', fg: '#F5C87A', accent: '#2D9596', name: 'Amber Calm' },
        { bg: '#0a1214', fg: '#ffdab9', accent: '#134e5e', name: 'Dusk' },
        { bg: '#08080c', fg: '#bdc3c7', accent: '#1a1a2e', name: 'Still Water' },
        { bg: '#0a0c0a', fg: '#d4c896', accent: '#1a2f1a', name: 'Forest Floor' },
        { bg: '#06060a', fg: '#a8c0d6', accent: '#7B68EE', name: 'Moonlight' },
      ],
      ascii: [
        { bg: '#000000', fg: '#D4A574', accent: '#2D9596', name: 'Amber Text' },
        { bg: '#0a0a0a', fg: '#40E0D0', accent: '#F5C87A', name: 'Teal Matrix' },
        { bg: '#0D0D0D', fg: '#7B68EE', accent: '#FFD700', name: 'Violet Code' },
        { bg: '#000000', fg: '#00ff41', accent: '#003b00', name: 'Green Screen' },
        { bg: '#0a0505', fg: '#ff6b35', accent: '#1a0505', name: 'Warm Terminal' },
      ],
      highdef: [
        { bg: '#000000', fg: '#FFD700', accent: '#D4A574', name: 'Amber Orb' },
        { bg: '#0a0a10', fg: '#40E0D0', accent: '#2D9596', name: 'Teal Glow' },
        { bg: '#08060a', fg: '#7B68EE', accent: '#5B4ACF', name: 'Violet Shine' },
        { bg: '#0a0808', fg: '#ffd6e0', accent: '#9d8cbe', name: 'Dawn' },
        { bg: '#000000', fg: '#F5C87A', accent: '#B8860B', name: 'Golden Hour' },
      ],
      generic: [
        { bg: '#000000', fg: '#F5C87A', accent: '#2D9596', name: 'Amber Classic' },
        { bg: '#0a0a0a', fg: '#D4A574', accent: '#40E0D0', name: 'Warm Teal' },
        { bg: '#050508', fg: '#FFD700', accent: '#7B68EE', name: 'Gold Violet' },
        { bg: '#080808', fg: '#40E0D0', accent: '#F5C87A', name: 'Teal Amber' },
        { bg: '#000000', fg: '#7B68EE', accent: '#FFD700', name: 'Violet Gold' },
      ],
    };

    // === BACKGROUND GENERATORS ===

    // MUSIC: 8-bit stepped waveform bars (vertical or horizontal)
    const MusicBackground = ({ seed = 42, palette, isHorizontal = false, exportMode = false }) => {
      const barCount = isHorizontal ? 16 : 32;

      const bars = Array.from({ length: barCount }, (_, i) => {
        const rawSize = 30 + seededRandom(seed + i * 7) * 70;
        const steppedSize = Math.floor(rawSize / 10) * 10;
        const opacity = 0.25 + seededRandom(seed + i * 13) * 0.35;
        return { size: steppedSize, opacity };
      });

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Scan lines */}
          <div
            className="absolute inset-0 pointer-events-none"
            style={{
              background: isHorizontal
                ? `repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)`
                : `repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)`,
            }}
          />
          {/* Bars container */}
          <div
            className="absolute inset-0 flex"
            style={{
              flexDirection: isHorizontal ? 'column' : 'row',
              alignItems: isHorizontal ? 'flex-start' : 'flex-end',
              justifyContent: 'center',
              gap: isHorizontal ? '4px' : '3px',
              padding: isHorizontal ? '8px 0' : '0 8px',
            }}
          >
            {bars.map((bar, i) => (
              <div
                key={i}
                style={{
                  width: isHorizontal ? `${bar.size}%` : '18px',
                  height: isHorizontal ? '20px' : `${bar.size}%`,
                  background: palette.fg,
                  opacity: bar.opacity,
                  boxShadow: `0 0 12px ${palette.fg}30`,
                }}
              />
            ))}
          </div>
          {/* Dark overlay for text contrast - reduced in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0 pointer-events-none"
              style={{
                background: `radial-gradient(ellipse at 50% 50%, ${palette.bg}ee 0%, ${palette.bg}aa 35%, transparent 70%)`,
              }}
            />
          )}
        </div>
      );
    };

    // TOYS: Two modes - blocky (lego/tetris) or gooey (soft blobs)
    const ToysBackground = ({ seed = 42, palette, isGooey = false, exportMode = false }) => {
      if (isGooey) {
        return <ToysGooeyBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      return <ToysBlockyBackground seed={seed} palette={palette} exportMode={exportMode} />;
    };

    // TOYS GOOEY: Soft, bendy, organic blob shapes
    const ToysGooeyBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Playful color palette
      const toyColors = [
        palette.fg,
        palette.accent,
        '#ff6b6b', '#4ecdc4', '#ffe66d', '#95e1d3', '#ff8b94', '#a8e6cf',
      ];
      const getColor = (i) => toyColors[Math.floor(seededRandom(seed + i * 31) * toyColors.length)];

      // Generate gooey blobs
      const blobs = Array.from({ length: 12 }, (_, i) => {
        // Random border-radius for organic shapes
        const r1 = 30 + seededRandom(seed + i * 3) * 40;
        const r2 = 30 + seededRandom(seed + i * 5) * 40;
        const r3 = 30 + seededRandom(seed + i * 7) * 40;
        const r4 = 30 + seededRandom(seed + i * 9) * 40;

        return {
          x: 5 + seededRandom(seed + i * 11) * 85,
          y: 5 + seededRandom(seed + i * 13) * 80,
          width: 40 + seededRandom(seed + i * 17) * 80,
          height: 30 + seededRandom(seed + i * 19) * 60,
          borderRadius: `${r1}% ${100-r1}% ${r2}% ${100-r2}% / ${r3}% ${r4}% ${100-r4}% ${100-r3}%`,
          color: getColor(i),
          opacity: 0.5 + seededRandom(seed + i * 23) * 0.4,
          rotation: seededRandom(seed + i * 29) * 360,
          zIndex: Math.floor(seededRandom(seed + i * 37) * 10),
        };
      });

      blobs.sort((a, b) => a.zIndex - b.zIndex);

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Soft blobs */}
          {blobs.map((blob, i) => (
            <div
              key={i}
              className="absolute"
              style={{
                left: `${blob.x}%`,
                top: `${blob.y}%`,
                width: blob.width,
                height: blob.height,
                background: `linear-gradient(135deg, ${blob.color}, ${blob.color}cc)`,
                borderRadius: blob.borderRadius,
                opacity: blob.opacity,
                transform: `translate(-50%, -50%) rotate(${blob.rotation}deg)`,
                boxShadow: `
                  inset -8px -8px 20px rgba(0,0,0,0.15),
                  inset 8px 8px 20px rgba(255,255,255,0.25),
                  4px 4px 12px rgba(0,0,0,0.2)
                `,
                filter: 'blur(0.5px)',
              }}
            />
          ))}

          {/* Dark overlay for text contrast - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0 pointer-events-none"
              style={{
                background: `radial-gradient(ellipse at 50% 50%, ${palette.bg}dd 0%, ${palette.bg}99 30%, transparent 65%)`,
              }}
            />
          )}
        </div>
      );
    };

    // TOYS BLOCKY: Lego/tetris style blocks
    const ToysBlockyBackground = ({ seed = 42, palette, exportMode = false }) => {
      const gridSize = 20;

      // Playful color palette - mix of palette colors + fixed toy colors
      const toyColors = [
        palette.fg,
        palette.accent,
        '#ff6b6b', // coral red
        '#4ecdc4', // teal
        '#ffe66d', // yellow
        '#95e1d3', // mint
        '#ff8b94', // pink
        '#a8e6cf', // light green
      ];

      const getColor = (i) => toyColors[Math.floor(seededRandom(seed + i * 31) * toyColors.length)];

      // Shape types: 0=rect, 1=square, 2=L-shape, 3=T-shape, 4=circle
      const pieces = Array.from({ length: 14 }, (_, i) => {
        const shapeType = Math.floor(seededRandom(seed + i * 3) * 5);
        const color = getColor(i);

        return {
          x: Math.floor(seededRandom(seed + i * 7) * 50) * gridSize,
          y: Math.floor(seededRandom(seed + i * 11) * 22) * gridSize,
          shapeType,
          color,
          opacity: 0.6 + seededRandom(seed + i * 17) * 0.35,
          zIndex: Math.floor(seededRandom(seed + i * 19) * 10),
          rotation: Math.floor(seededRandom(seed + i * 23) * 4) * 90,
        };
      });

      pieces.sort((a, b) => a.zIndex - b.zIndex);

      const blockStyle = (color) => ({
        background: color,
        boxShadow: `
          inset -3px -3px 0 rgba(0,0,0,0.25),
          inset 3px 3px 0 rgba(255,255,255,0.2),
          3px 3px 0 rgba(0,0,0,0.3)
        `,
      });

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Pixel grid */}
          <div
            className="absolute inset-0 pointer-events-none"
            style={{
              backgroundImage: `linear-gradient(${palette.fg}05 1px, transparent 1px), linear-gradient(90deg, ${palette.fg}05 1px, transparent 1px)`,
              backgroundSize: `${gridSize}px ${gridSize}px`,
            }}
          />

          {/* Toy pieces */}
          {pieces.map((piece, i) => {
            const g = gridSize;

            // Rectangle (2x1)
            if (piece.shapeType === 0) {
              return (
                <div key={i} className="absolute" style={{ left: piece.x, top: piece.y, opacity: piece.opacity, transform: `rotate(${piece.rotation}deg)` }}>
                  <div style={{ width: g * 2, height: g, ...blockStyle(piece.color) }} />
                </div>
              );
            }

            // Square (1x1) with stud
            if (piece.shapeType === 1) {
              return (
                <div key={i} className="absolute" style={{ left: piece.x, top: piece.y, opacity: piece.opacity }}>
                  <div style={{ width: g, height: g, ...blockStyle(piece.color), position: 'relative' }}>
                    <div style={{
                      position: 'absolute', top: -4, left: '50%', transform: 'translateX(-50%)',
                      width: g * 0.5, height: 6, background: piece.color, borderRadius: '2px 2px 0 0',
                      boxShadow: 'inset -2px 0 0 rgba(0,0,0,0.2), inset 2px 2px 0 rgba(255,255,255,0.15)'
                    }} />
                  </div>
                </div>
              );
            }

            // L-shape
            if (piece.shapeType === 2) {
              return (
                <div key={i} className="absolute" style={{ left: piece.x, top: piece.y, opacity: piece.opacity, transform: `rotate(${piece.rotation}deg)` }}>
                  <div style={{ width: g, height: g * 2, ...blockStyle(piece.color) }} />
                  <div style={{ position: 'absolute', top: g, left: g, width: g, height: g, ...blockStyle(piece.color) }} />
                </div>
              );
            }

            // T-shape
            if (piece.shapeType === 3) {
              return (
                <div key={i} className="absolute" style={{ left: piece.x, top: piece.y, opacity: piece.opacity, transform: `rotate(${piece.rotation}deg)` }}>
                  <div style={{ width: g * 3, height: g, ...blockStyle(piece.color) }} />
                  <div style={{ position: 'absolute', top: g, left: g, width: g, height: g, ...blockStyle(piece.color) }} />
                </div>
              );
            }

            // Circle (ball/marble)
            if (piece.shapeType === 4) {
              return (
                <div key={i} className="absolute" style={{ left: piece.x, top: piece.y, opacity: piece.opacity }}>
                  <div style={{
                    width: g, height: g, borderRadius: '50%',
                    background: `radial-gradient(circle at 35% 35%, ${piece.color}, ${piece.color}aa)`,
                    boxShadow: `
                      inset -4px -4px 8px rgba(0,0,0,0.3),
                      inset 4px 4px 8px rgba(255,255,255,0.3),
                      3px 3px 6px rgba(0,0,0,0.3)
                    `,
                  }} />
                </div>
              );
            }

            return null;
          })}

          {/* Dark overlay for text contrast - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0 pointer-events-none"
              style={{
                background: `radial-gradient(ellipse at 50% 50%, ${palette.bg}dd 0%, ${palette.bg}99 30%, transparent 65%)`,
              }}
            />
          )}
        </div>
      );
    };

    // INVENTIONS: Glitch lines, scan artifacts, circuit traces
    const InventionsBackground = ({ seed = 42, palette, exportMode = false }) => {
      const traces = Array.from({ length: 20 }, (_, i) => {
        const isHorizontal = seededRandom(seed + i * 3) > 0.5;
        return {
          x: seededRandom(seed + i * 5) * 100,
          y: seededRandom(seed + i * 7) * 100,
          length: 30 + seededRandom(seed + i * 11) * 150,
          thickness: seededRandom(seed + i * 13) > 0.7 ? 3 : 1,
          isHorizontal,
          hasNode: seededRandom(seed + i * 17) > 0.6,
        };
      });

      const glitches = Array.from({ length: 5 }, (_, i) => ({
        y: seededRandom(seed * 2 + i * 7) * 100,
        height: 1 + seededRandom(seed * 3 + i * 11) * 4,
        width: 20 + seededRandom(seed * 4 + i * 13) * 60,
        x: seededRandom(seed * 5 + i * 17) * 80,
        opacity: 0.4 + seededRandom(seed * 6 + i * 19) * 0.4,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          <div
            className="absolute inset-0"
            style={{
              background: `repeating-linear-gradient(0deg, transparent, transparent 3px, ${palette.fg}05 3px, ${palette.fg}05 4px)`,
            }}
          />
          {traces.map((t, i) => (
            <div key={i}>
              <div
                className="absolute"
                style={{
                  left: `${t.x}%`,
                  top: `${t.y}%`,
                  width: t.isHorizontal ? t.length : t.thickness,
                  height: t.isHorizontal ? t.thickness : t.length,
                  background: `${palette.fg}30`,
                }}
              />
              {t.hasNode && (
                <div
                  className="absolute"
                  style={{
                    left: `${t.x}%`,
                    top: `${t.y}%`,
                    width: 6,
                    height: 6,
                    background: palette.fg,
                    transform: 'translate(-50%, -50%)',
                    boxShadow: `0 0 8px ${palette.fg}`,
                  }}
                />
              )}
            </div>
          ))}
          {glitches.map((g, i) => (
            <div
              key={`glitch-${i}`}
              className="absolute"
              style={{
                left: `${g.x}%`,
                top: `${g.y}%`,
                width: `${g.width}%`,
                height: g.height,
                background: palette.accent,
                opacity: g.opacity,
                mixBlendMode: 'screen',
              }}
            />
          ))}
        </div>
      );
    };

    // REFLECTIONS: Smooth ripples, soft gradients, minimal
    const ReflectionsBackground = ({ seed = 42, palette, exportMode = false }) => {
      const ripples = Array.from({ length: 4 }, (_, i) => ({
        x: 30 + seededRandom(seed + i * 5) * 40,
        y: 35 + seededRandom(seed + i * 9) * 30,
        size: 100 + seededRandom(seed + i * 13) * 200,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at 50% 120%, ${palette.accent}15 0%, transparent 60%)`,
            }}
          />
          {ripples.map((r, i) => (
            <div
              key={i}
              className="absolute rounded-full"
              style={{
                left: `${r.x}%`,
                top: `${r.y}%`,
                width: r.size,
                height: r.size,
                transform: 'translate(-50%, -50%)',
                border: `1px solid ${palette.fg}12`,
                boxShadow: `0 0 0 20px ${palette.fg}06, 0 0 0 40px ${palette.fg}03, 0 0 60px ${palette.fg}08`,
              }}
            />
          ))}
          <div
            className="absolute"
            style={{
              left: '50%',
              top: '50%',
              width: 300,
              height: 300,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle, ${palette.fg}08 0%, transparent 70%)`,
              filter: 'blur(40px)',
            }}
          />
        </div>
      );
    };

    // ASCII ART: Three modes - Dense (full grid), Float (scattered), Vignette (dense at edges)
    const AsciiBackground = ({ seed = 42, palette, mode = 'dense', exportMode = false }) => {
      if (mode === 'float') {
        return <AsciiFloatBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      if (mode === 'vignette') {
        return <AsciiVignetteBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      return <AsciiDenseBackground seed={seed} palette={palette} exportMode={exportMode} />;
    };

    // ASCII VIGNETTE: Dense at edges, fading to clear center
    const AsciiVignetteBackground = ({ seed = 42, palette, exportMode = false }) => {
      const chars = '░▒▓█│─┼╔╗╚╝║═◢◣◤◥';

      // Generate many more characters, density based on distance from center
      const floatingChars = [];
      const totalChars = 300;

      for (let i = 0; i < totalChars; i++) {
        // Random position
        const rawX = seededRandom(seed + i * 3) * 100;
        const rawY = seededRandom(seed + i * 5) * 100;

        // Calculate distance from center (0 = center, 1 = corner)
        const dx = (rawX - 50) / 50;
        const dy = (rawY - 50) / 50;
        const distFromCenter = Math.sqrt(dx * dx + dy * dy);

        // Probability of keeping char increases with distance from center
        // Center (dist=0): 5% chance, Edge (dist=1): 95% chance
        const keepProbability = 0.05 + distFromCenter * 0.9;

        if (seededRandom(seed + i * 7 + 1000) < keepProbability) {
          const charIndex = Math.floor(seededRandom(seed + i * 11) * chars.length);
          // Size and opacity also increase toward edges
          const edgeFactor = Math.min(1, distFromCenter);
          const size = 8 + edgeFactor * 14 + seededRandom(seed + i * 13) * 8;
          const opacity = 0.1 + edgeFactor * 0.5 + seededRandom(seed + i * 17) * 0.2;
          const rotation = -30 + seededRandom(seed + i * 19) * 60;
          const isGlowing = seededRandom(seed + i * 23) > 0.85 && edgeFactor > 0.5;

          floatingChars.push({
            x: rawX,
            y: rawY,
            char: chars[charIndex],
            size,
            opacity: Math.min(0.85, opacity),
            rotation,
            isGlowing,
            edgeFactor,
          });
        }
      }

      // Edge border characters - very dense
      const borderChars = [];
      const borderDensity = 60;

      // Top and bottom borders
      for (let i = 0; i < borderDensity; i++) {
        const x = (i / borderDensity) * 100;
        const charIndex = Math.floor(seededRandom(seed + i * 31) * chars.length);
        // Top
        borderChars.push({
          x,
          y: 2 + seededRandom(seed + i * 33) * 8,
          char: chars[charIndex],
          size: 12 + seededRandom(seed + i * 35) * 10,
          opacity: 0.4 + seededRandom(seed + i * 37) * 0.4,
        });
        // Bottom
        borderChars.push({
          x,
          y: 90 + seededRandom(seed + i * 39) * 8,
          char: chars[Math.floor(seededRandom(seed + i * 41) * chars.length)],
          size: 12 + seededRandom(seed + i * 43) * 10,
          opacity: 0.4 + seededRandom(seed + i * 45) * 0.4,
        });
      }

      // Left and right borders
      for (let i = 0; i < borderDensity * 0.6; i++) {
        const y = (i / (borderDensity * 0.6)) * 100;
        const charIndex = Math.floor(seededRandom(seed + i * 51) * chars.length);
        // Left
        borderChars.push({
          x: 2 + seededRandom(seed + i * 53) * 8,
          y,
          char: chars[charIndex],
          size: 12 + seededRandom(seed + i * 55) * 10,
          opacity: 0.4 + seededRandom(seed + i * 57) * 0.4,
        });
        // Right
        borderChars.push({
          x: 90 + seededRandom(seed + i * 59) * 8,
          y,
          char: chars[Math.floor(seededRandom(seed + i * 61) * chars.length)],
          size: 12 + seededRandom(seed + i * 63) * 10,
          opacity: 0.4 + seededRandom(seed + i * 65) * 0.4,
        });
      }

      return (
        <div className="absolute inset-0 overflow-hidden" style={{ fontFamily: "'Space Mono', monospace" }}>
          {/* Subtle scan lines */}
          <div
            className="absolute inset-0 pointer-events-none"
            style={{
              background: `repeating-linear-gradient(0deg, transparent 0px, transparent 3px, ${palette.fg}04 3px, ${palette.fg}04 4px)`,
            }}
          />

          {/* Border characters - densest layer */}
          {borderChars.map((bc, i) => (
            <div
              key={`border-${i}`}
              className="absolute"
              style={{
                left: `${bc.x}%`,
                top: `${bc.y}%`,
                transform: 'translate(-50%, -50%)',
                fontSize: bc.size,
                color: palette.fg,
                opacity: bc.opacity,
                textShadow: `0 0 4px ${palette.fg}40`,
              }}
            >
              {bc.char}
            </div>
          ))}

          {/* Floating characters - density gradient */}
          {floatingChars.map((fc, i) => (
            <div
              key={`float-${i}`}
              className="absolute"
              style={{
                left: `${fc.x}%`,
                top: `${fc.y}%`,
                transform: `translate(-50%, -50%) rotate(${fc.rotation}deg)`,
                fontSize: fc.size,
                color: fc.isGlowing ? palette.accent : palette.fg,
                opacity: fc.opacity,
                textShadow: fc.isGlowing ? `0 0 10px ${palette.accent}` : `0 0 3px ${palette.fg}30`,
              }}
            >
              {fc.char}
            </div>
          ))}

          {/* Radial gradient to enhance center clarity - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0 pointer-events-none"
              style={{
                background: `radial-gradient(ellipse 70% 60% at 50% 50%, ${palette.bg}dd 0%, ${palette.bg}99 30%, transparent 60%)`,
              }}
            />
          )}
        </div>
      );
    };

    // ASCII FLOAT: Characters floating around the edges, center clear
    const AsciiFloatBackground = ({ seed = 42, palette, exportMode = false }) => {
      const chars = '░▒▓█│─┼╔╗╚╝║═◢◣◤◥▲▼◆○●';

      // Generate floating char clusters around edges
      const floatingChars = Array.from({ length: 80 }, (_, i) => {
        const angle = seededRandom(seed + i * 7) * Math.PI * 2;
        const distance = 0.35 + seededRandom(seed + i * 11) * 0.25; // 35-60% from center

        // Convert to x,y but push toward edges
        let x = 50 + Math.cos(angle) * distance * 100;
        let y = 50 + Math.sin(angle) * distance * 80;

        // Clamp to stay in bounds
        x = Math.max(3, Math.min(97, x));
        y = Math.max(5, Math.min(95, y));

        const charIndex = Math.floor(seededRandom(seed + i * 13) * chars.length);
        const size = 10 + seededRandom(seed + i * 17) * 18;
        const opacity = 0.15 + seededRandom(seed + i * 19) * 0.45;
        const rotation = -20 + seededRandom(seed + i * 23) * 40;
        const isGlowing = seededRandom(seed + i * 29) > 0.8;

        return { x, y, char: chars[charIndex], size, opacity, rotation, isGlowing };
      });

      // Corner box-drawing decorations
      const cornerDecorations = [
        { x: 8, y: 12, text: '╔══════╗', align: 'left' },
        { x: 8, y: 18, text: '║', align: 'left' },
        { x: 8, y: 24, text: '╚══', align: 'left' },
        { x: 92, y: 12, text: '╔══════╗', align: 'right' },
        { x: 92, y: 18, text: '║', align: 'right' },
        { x: 92, y: 24, text: '══╗', align: 'right' },
        { x: 8, y: 76, text: '╔══', align: 'left' },
        { x: 8, y: 82, text: '║', align: 'left' },
        { x: 8, y: 88, text: '╚══════╝', align: 'left' },
        { x: 92, y: 76, text: '══╗', align: 'right' },
        { x: 92, y: 82, text: '║', align: 'right' },
        { x: 92, y: 88, text: '╚══════╝', align: 'right' },
      ];

      return (
        <div className="absolute inset-0 overflow-hidden" style={{ fontFamily: "'Space Mono', monospace" }}>
          {/* Subtle scan lines */}
          <div
            className="absolute inset-0 pointer-events-none"
            style={{
              background: `repeating-linear-gradient(0deg, transparent 0px, transparent 3px, ${palette.fg}05 3px, ${palette.fg}05 4px)`,
            }}
          />

          {/* Noise texture */}
          <div
            className="absolute inset-0"
            style={{
              background: `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,
              opacity: 0.04,
            }}
          />

          {/* Floating characters */}
          {floatingChars.map((fc, i) => (
            <div
              key={`float-${i}`}
              className="absolute"
              style={{
                left: `${fc.x}%`,
                top: `${fc.y}%`,
                transform: `translate(-50%, -50%) rotate(${fc.rotation}deg)`,
                fontSize: fc.size,
                color: fc.isGlowing ? palette.accent : palette.fg,
                opacity: fc.opacity,
                textShadow: fc.isGlowing ? `0 0 12px ${palette.accent}` : `0 0 4px ${palette.fg}40`,
              }}
            >
              {fc.char}
            </div>
          ))}

          {/* Corner decorations */}
          {cornerDecorations.map((dec, i) => (
            <div
              key={`corner-${i}`}
              className="absolute"
              style={{
                left: dec.align === 'left' ? `${dec.x}%` : 'auto',
                right: dec.align === 'right' ? `${100 - dec.x}%` : 'auto',
                top: `${dec.y}%`,
                fontSize: '14px',
                color: palette.accent,
                opacity: 0.5,
                textShadow: `0 0 8px ${palette.accent}60`,
                whiteSpace: 'pre',
              }}
            >
              {dec.text}
            </div>
          ))}

          {/* Subtle center glow */}
          <div
            className="absolute"
            style={{
              left: '50%',
              top: '50%',
              width: '60%',
              height: '50%',
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(ellipse, ${palette.fg}08 0%, transparent 70%)`,
            }}
          />
        </div>
      );
    };

    // ASCII DENSE: Bold box-drawing characters with terminal glow
    const AsciiDenseBackground = ({ seed = 42, palette, exportMode = false }) => {
      const chars = '░▒▓█│─┼╔╗╚╝║═';
      const rows = 18;
      const cols = 60;

      // Generate grid with varying intensity
      const asciiGrid = Array.from({ length: rows }, (_, row) =>
        Array.from({ length: cols }, (_, col) => {
          const charIndex = Math.floor(seededRandom(seed + row * cols + col) * chars.length);
          const intensity = seededRandom(seed + row * cols + col + 1000);
          // Some chars glow brighter
          const isGlowing = intensity > 0.85;
          const opacity = isGlowing ? 0.9 : 0.25 + intensity * 0.35;
          return { char: chars[charIndex], opacity, isGlowing };
        })
      );

      // Prominent box frame coordinates
      const frameTop = 4;
      const frameBottom = rows - 4;
      const frameLeft = 8;
      const frameRight = cols - 8;

      // Build the frame characters
      const getFrameChar = (row, col) => {
        const isTop = row === frameTop;
        const isBottom = row === frameBottom;
        const isLeft = col === frameLeft;
        const isRight = col === frameRight;

        if (isTop && isLeft) return '╔';
        if (isTop && isRight) return '╗';
        if (isBottom && isLeft) return '╚';
        if (isBottom && isRight) return '╝';
        if (isTop || isBottom) return '═';
        if ((isLeft || isRight) && row > frameTop && row < frameBottom) return '║';
        return null;
      };

      // Scan line effect positions
      const scanLines = Array.from({ length: 6 }, (_, i) => ({
        y: 10 + seededRandom(seed + i * 17) * 80,
        opacity: 0.03 + seededRandom(seed + i * 19) * 0.04,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden" style={{ fontFamily: "'Space Mono', monospace" }}>
          {/* CRT scan lines */}
          <div
            className="absolute inset-0 pointer-events-none"
            style={{
              background: `repeating-linear-gradient(0deg, transparent 0px, transparent 2px, ${palette.fg}08 2px, ${palette.fg}08 4px)`,
            }}
          />

          {/* Noise texture */}
          <div
            className="absolute inset-0"
            style={{
              background: `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,
              opacity: 0.06,
            }}
          />

          {/* Horizontal scan line artifacts */}
          {scanLines.map((line, i) => (
            <div
              key={`scan-${i}`}
              className="absolute"
              style={{
                left: 0,
                right: 0,
                top: `${line.y}%`,
                height: 1,
                background: palette.fg,
                opacity: line.opacity,
              }}
            />
          ))}

          {/* ASCII character grid */}
          <div
            className="absolute inset-0 flex flex-col justify-center items-center"
            style={{ padding: '20px' }}
          >
            {asciiGrid.map((row, rowIndex) => (
              <div key={rowIndex} className="flex">
                {row.map((cell, colIndex) => {
                  const frameChar = getFrameChar(rowIndex, colIndex);
                  const isFrame = frameChar !== null;
                  const displayChar = isFrame ? frameChar : cell.char;
                  const charOpacity = isFrame ? 0.7 : cell.opacity;
                  const charColor = isFrame ? palette.accent : (cell.isGlowing ? palette.fg : palette.fg);

                  return (
                    <span
                      key={colIndex}
                      style={{
                        color: charColor,
                        opacity: charOpacity,
                        fontSize: '12px',
                        width: '12px',
                        height: '16px',
                        lineHeight: '16px',
                        textAlign: 'center',
                        textShadow: (isFrame || cell.isGlowing) ? `0 0 8px ${charColor}` : 'none',
                      }}
                    >
                      {displayChar}
                    </span>
                  );
                })}
              </div>
            ))}
          </div>

          {/* Corner accents - hidden in export mode */}
          {!exportMode && (
            <>
              <div className="absolute top-6 left-6 text-lg" style={{ color: palette.accent, opacity: 0.6, textShadow: `0 0 10px ${palette.accent}` }}>▛</div>
              <div className="absolute top-6 right-6 text-lg" style={{ color: palette.accent, opacity: 0.6, textShadow: `0 0 10px ${palette.accent}` }}>▜</div>
              <div className="absolute bottom-6 left-6 text-lg" style={{ color: palette.accent, opacity: 0.6, textShadow: `0 0 10px ${palette.accent}` }}>▙</div>
              <div className="absolute bottom-6 right-6 text-lg" style={{ color: palette.accent, opacity: 0.6, textShadow: `0 0 10px ${palette.accent}` }}>▟</div>
            </>
          )}

          {/* Vignette for text contrast - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0 pointer-events-none"
              style={{
                background: `radial-gradient(ellipse at 50% 50%, transparent 0%, ${palette.bg}90 80%, ${palette.bg} 100%)`,
              }}
            />
          )}
        </div>
      );
    };

    // HIGH-DEF ART: Three modes - Orb, Aurora, or Prism
    const HighdefBackground = ({ seed = 42, palette, mode = 'orb', exportMode = false }) => {
      if (mode === 'aurora') {
        return <HighdefAuroraBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      if (mode === 'prism') {
        return <HighdefPrismBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      return <HighdefOrbBackground seed={seed} palette={palette} exportMode={exportMode} />;
    };

    // HIGHDEF PRISM: Geometric light refraction
    const HighdefPrismBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Spectral bands spreading from center
      const spectralColors = [
        palette.fg,
        palette.accent,
        '#7B68EE', // violet accent
        palette.fg + 'aa',
        palette.accent + '88',
      ];

      const bands = spectralColors.map((color, i) => ({
        color,
        angle: -15 + i * 8,
        width: 60 + seededRandom(seed + i * 7) * 40,
        offset: i * 25,
      }));

      // Floating geometric shapes
      const shapes = Array.from({ length: 6 }, (_, i) => ({
        x: 10 + seededRandom(seed + i * 11 + 50) * 80,
        y: 10 + seededRandom(seed + i * 13 + 50) * 80,
        size: 30 + seededRandom(seed + i * 17 + 50) * 60,
        rotation: seededRandom(seed + i * 19 + 50) * 360,
        sides: 3 + Math.floor(seededRandom(seed + i * 23 + 50) * 3), // 3-5 sides
        opacity: 0.1 + seededRandom(seed + i * 29 + 50) * 0.15,
      }));

      // Create polygon clip path
      const getPolygonPath = (sides) => {
        const points = Array.from({ length: sides }, (_, i) => {
          const angle = (i * 360 / sides - 90) * Math.PI / 180;
          const x = 50 + 50 * Math.cos(angle);
          const y = 50 + 50 * Math.sin(angle);
          return `${x}% ${y}%`;
        });
        return `polygon(${points.join(', ')})`;
      };

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Deep black base */}
          <div className="absolute inset-0" style={{ background: '#000000' }} />

          {/* Central light source glow */}
          <div
            className="absolute"
            style={{
              left: '30%',
              top: '50%',
              width: 300,
              height: 300,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle, ${palette.fg}40 0%, transparent 70%)`,
              filter: 'blur(40px)',
            }}
          />

          {/* Spectral light bands */}
          {bands.map((band, i) => (
            <div
              key={`band-${i}`}
              className="absolute"
              style={{
                left: '25%',
                top: '50%',
                width: '120%',
                height: band.width,
                background: `linear-gradient(90deg, ${band.color}00 0%, ${band.color}60 20%, ${band.color}40 60%, ${band.color}00 100%)`,
                transform: `translateY(-50%) rotate(${band.angle}deg)`,
                transformOrigin: 'left center',
                filter: 'blur(8px)',
              }}
            />
          ))}

          {/* Central prism shape */}
          <div
            className="absolute"
            style={{
              left: '28%',
              top: '50%',
              width: 120,
              height: 140,
              transform: 'translate(-50%, -50%)',
              clipPath: 'polygon(50% 0%, 100% 100%, 0% 100%)',
              background: `linear-gradient(180deg, ${palette.fg}20 0%, ${palette.accent}30 50%, ${palette.fg}10 100%)`,
              border: `1px solid ${palette.fg}40`,
              boxShadow: `0 0 60px ${palette.fg}30`,
            }}
          />

          {/* Prism edge highlights */}
          <div
            className="absolute"
            style={{
              left: '28%',
              top: '50%',
              width: 120,
              height: 140,
              transform: 'translate(-50%, -50%)',
              clipPath: 'polygon(50% 0%, 100% 100%, 0% 100%)',
              background: 'transparent',
              boxShadow: `inset 2px 0 20px ${palette.fg}40, inset -2px 0 20px ${palette.accent}40`,
            }}
          />

          {/* Floating geometric shapes */}
          {shapes.map((shape, i) => (
            <div
              key={`shape-${i}`}
              className="absolute"
              style={{
                left: `${shape.x}%`,
                top: `${shape.y}%`,
                width: shape.size,
                height: shape.size,
                transform: `translate(-50%, -50%) rotate(${shape.rotation}deg)`,
                clipPath: getPolygonPath(shape.sides),
                background: `linear-gradient(135deg, ${palette.fg}${Math.round(shape.opacity * 255).toString(16).padStart(2, '0')}, ${palette.accent}${Math.round(shape.opacity * 0.5 * 255).toString(16).padStart(2, '0')})`,
                border: `1px solid ${palette.fg}20`,
              }}
            />
          ))}

          {/* Lens flare dots */}
          {[0.4, 0.5, 0.6, 0.75].map((pos, i) => (
            <div
              key={`flare-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${25 + pos * 50}%`,
                top: `${50 - (pos - 0.5) * 20}%`,
                width: 8 + i * 4,
                height: 8 + i * 4,
                background: `radial-gradient(circle, ${palette.fg}60 0%, transparent 70%)`,
                transform: 'translate(-50%, -50%)',
              }}
            />
          ))}

          {/* Top gradient for text contrast - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0"
              style={{
                background: `radial-gradient(ellipse at 50% 50%, transparent 0%, ${palette.bg}40 50%, ${palette.bg}90 100%)`,
              }}
            />
          )}
        </div>
      );
    };

    // HIGHDEF AURORA: Flowing horizontal light bands like northern lights
    const HighdefAuroraBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Generate flowing bands
      const bands = Array.from({ length: 5 }, (_, i) => ({
        y: 20 + seededRandom(seed + i * 7) * 60,
        height: 80 + seededRandom(seed + i * 11) * 120,
        opacity: 0.15 + seededRandom(seed + i * 13) * 0.25,
        skew: -5 + seededRandom(seed + i * 17) * 10,
        color: i % 2 === 0 ? palette.fg : palette.accent,
      }));

      // Star/particle points
      const stars = Array.from({ length: 20 }, (_, i) => ({
        x: seededRandom(seed + i * 3 + 100) * 100,
        y: seededRandom(seed + i * 5 + 100) * 100,
        size: 1 + seededRandom(seed + i * 7 + 100) * 3,
        opacity: 0.3 + seededRandom(seed + i * 11 + 100) * 0.7,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Deep gradient base */}
          <div
            className="absolute inset-0"
            style={{
              background: `linear-gradient(180deg, ${palette.bg} 0%, #000000 50%, ${palette.bg}80 100%)`,
            }}
          />

          {/* Horizon glow */}
          <div
            className="absolute"
            style={{
              left: 0,
              right: 0,
              bottom: '20%',
              height: '40%',
              background: `radial-gradient(ellipse 120% 100% at 50% 100%, ${palette.fg}30 0%, transparent 70%)`,
            }}
          />

          {/* Aurora bands */}
          {bands.map((band, i) => (
            <div
              key={`band-${i}`}
              className="absolute"
              style={{
                left: '-10%',
                right: '-10%',
                top: `${band.y}%`,
                height: band.height,
                background: `linear-gradient(90deg, transparent 0%, ${band.color}${Math.round(band.opacity * 255).toString(16).padStart(2, '0')} 30%, ${band.color}${Math.round(band.opacity * 0.7 * 255).toString(16).padStart(2, '0')} 70%, transparent 100%)`,
                transform: `skewY(${band.skew}deg)`,
                filter: 'blur(30px)',
              }}
            />
          ))}

          {/* Central bright band */}
          <div
            className="absolute"
            style={{
              left: '10%',
              right: '10%',
              top: '40%',
              height: 60,
              background: `linear-gradient(90deg, transparent 0%, ${palette.fg}50 20%, ${palette.fg}80 50%, ${palette.fg}50 80%, transparent 100%)`,
              filter: 'blur(20px)',
            }}
          />

          {/* Vertical rays */}
          {[0.2, 0.35, 0.5, 0.65, 0.8].map((x, i) => (
            <div
              key={`ray-${i}`}
              className="absolute"
              style={{
                left: `${x * 100}%`,
                top: '30%',
                width: 2 + seededRandom(seed + i * 19) * 4,
                height: '50%',
                background: `linear-gradient(180deg, ${palette.fg}00 0%, ${palette.fg}40 30%, ${palette.accent}30 70%, transparent 100%)`,
                filter: 'blur(8px)',
                opacity: 0.4 + seededRandom(seed + i * 23) * 0.4,
              }}
            />
          ))}

          {/* Star points */}
          {stars.map((star, i) => (
            <div
              key={`star-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${star.x}%`,
                top: `${star.y}%`,
                width: star.size,
                height: star.size,
                background: palette.fg,
                opacity: star.opacity,
                boxShadow: `0 0 ${star.size * 2}px ${palette.fg}`,
              }}
            />
          ))}

          {/* Top fade for text contrast - hidden in export mode */}
          {!exportMode && (
            <div
              className="absolute inset-0"
              style={{
                background: `linear-gradient(180deg, ${palette.bg}cc 0%, transparent 40%, transparent 100%)`,
              }}
            />
          )}
        </div>
      );
    };

    // HIGHDEF ORB: Signature amber orb with accent rings
    const HighdefOrbBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Primary orb position (slightly off-center for dynamism)
      const mainX = 65 + seededRandom(seed) * 15;
      const mainY = 45 + seededRandom(seed + 1) * 15;
      const mainSize = 180 + seededRandom(seed + 2) * 60;

      // Secondary smaller orbs
      const secondaryOrbs = Array.from({ length: 3 }, (_, i) => ({
        x: 15 + seededRandom(seed + i * 5 + 10) * 70,
        y: 20 + seededRandom(seed + i * 7 + 10) * 60,
        size: 40 + seededRandom(seed + i * 11 + 10) * 50,
        opacity: 0.4 + seededRandom(seed + i * 13 + 10) * 0.3,
      }));

      // Concentric rings for depth
      const rings = Array.from({ length: 4 }, (_, i) => ({
        size: mainSize + 40 + i * 35,
        opacity: 0.15 - i * 0.03,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Deep background gradient */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at ${mainX}% ${mainY}%, ${palette.bg} 0%, #000000 70%)`,
            }}
          />

          {/* Ambient glow behind main orb */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${mainX}%`,
              top: `${mainY}%`,
              width: mainSize * 2.5,
              height: mainSize * 2.5,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle, ${palette.fg}20 0%, ${palette.fg}08 40%, transparent 70%)`,
              filter: 'blur(40px)',
            }}
          />

          {/* Concentric rings */}
          {rings.map((ring, i) => (
            <div
              key={`ring-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${mainX}%`,
                top: `${mainY}%`,
                width: ring.size,
                height: ring.size,
                transform: 'translate(-50%, -50%)',
                border: `1px solid ${palette.accent}`,
                opacity: ring.opacity,
              }}
            />
          ))}

          {/* Secondary orbs */}
          {secondaryOrbs.map((orb, i) => (
            <div
              key={`secondary-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${orb.x}%`,
                top: `${orb.y}%`,
                width: orb.size,
                height: orb.size,
                transform: 'translate(-50%, -50%)',
                background: `radial-gradient(circle at 35% 35%, ${palette.fg}, ${palette.accent}80, transparent)`,
                opacity: orb.opacity,
                boxShadow: `0 0 ${orb.size / 2}px ${palette.fg}40`,
              }}
            />
          ))}

          {/* Main signature orb - teal accent ring */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${mainX}%`,
              top: `${mainY}%`,
              width: mainSize + 16,
              height: mainSize + 16,
              transform: 'translate(-50%, -50%)',
              border: `2px solid ${palette.accent}`,
              boxShadow: `0 0 30px ${palette.accent}50, inset 0 0 30px ${palette.accent}20`,
            }}
          />

          {/* Main signature orb */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${mainX}%`,
              top: `${mainY}%`,
              width: mainSize,
              height: mainSize,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle at 30% 30%, ${palette.fg}, ${palette.accent}90, ${palette.bg})`,
              boxShadow: `0 0 60px ${palette.fg}60, 0 0 120px ${palette.fg}30`,
            }}
          />

          {/* Specular highlight on main orb */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${mainX - 3}%`,
              top: `${mainY - 5}%`,
              width: mainSize * 0.3,
              height: mainSize * 0.2,
              transform: 'translate(-50%, -50%) rotate(-20deg)',
              background: `radial-gradient(ellipse, rgba(255,255,255,0.4) 0%, transparent 70%)`,
              filter: 'blur(4px)',
            }}
          />

          {/* Top rim light */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at 50% -20%, ${palette.fg}12 0%, transparent 50%)`,
            }}
          />
        </div>
      );
    };

    // GENERIC: Chef's choice - three modes: Orb, Ember, Drift (shifted position)
    const GenericBackground = ({ seed = 42, palette, mode = 'orb', exportMode = false }) => {
      if (mode === 'ember') {
        return <GenericEmberBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      if (mode === 'drift') {
        return <GenericDriftBackground seed={seed} palette={palette} exportMode={exportMode} />;
      }
      return <GenericOrbBackground seed={seed} palette={palette} exportMode={exportMode} />;
    };

    // GENERIC EMBER: Glowing ember/spark cluster instead of orb
    const GenericEmberBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Ember cluster position
      const emberX = 80 + seededRandom(seed) * 15;
      const emberY = 25 + seededRandom(seed + 1) * 20;

      // Core ember particles - bright, small, clustered
      const coreEmbers = Array.from({ length: 12 }, (_, i) => {
        const angle = seededRandom(seed + i * 3 + 100) * Math.PI * 2;
        const dist = seededRandom(seed + i * 5 + 100) * 25;
        return {
          x: emberX + Math.cos(angle) * dist / 5,
          y: emberY + Math.sin(angle) * dist / 8,
          size: 3 + seededRandom(seed + i * 7 + 100) * 8,
          opacity: 0.7 + seededRandom(seed + i * 11 + 100) * 0.3,
          blur: seededRandom(seed + i * 13 + 100) * 2,
        };
      });

      // Floating sparks - rising from ember
      const sparks = Array.from({ length: 20 }, (_, i) => {
        const drift = -15 + seededRandom(seed + i * 3 + 200) * 30;
        const rise = seededRandom(seed + i * 5 + 200) * 40;
        return {
          x: emberX + drift / 5,
          y: emberY - rise / 3,
          size: 1 + seededRandom(seed + i * 7 + 200) * 3,
          opacity: 0.3 + seededRandom(seed + i * 11 + 200) * 0.5 * (1 - rise / 40),
        };
      });

      // Heat glow rings
      const glowRings = Array.from({ length: 3 }, (_, i) => ({
        size: 40 + i * 30 + seededRandom(seed + i * 17) * 20,
        opacity: 0.15 - i * 0.04,
      }));

      // Diagonal lines
      const lines = Array.from({ length: 6 }, (_, i) => ({
        x: seededRandom(seed + i * 5 + 300) * 100,
        length: 80 + seededRandom(seed + i * 7 + 300) * 150,
        opacity: 0.02 + seededRandom(seed + i * 11 + 300) * 0.04,
        angle: 25 + seededRandom(seed + i * 13 + 300) * 40,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Base gradient - warm glow from ember */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at ${emberX}% ${emberY}%, ${palette.fg}12 0%, ${palette.bg} 40%, #000000 100%)`,
            }}
          />

          {/* Diagonal structural lines */}
          {lines.map((line, i) => (
            <div
              key={`line-${i}`}
              className="absolute"
              style={{
                left: `${line.x}%`,
                top: '50%',
                width: 1,
                height: line.length,
                background: palette.fg,
                opacity: line.opacity,
                transform: `translateY(-50%) rotate(${line.angle}deg)`,
              }}
            />
          ))}

          {/* Heat glow rings */}
          {glowRings.map((ring, i) => (
            <div
              key={`glow-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${emberX}%`,
                top: `${emberY}%`,
                width: ring.size,
                height: ring.size,
                transform: 'translate(-50%, -50%)',
                background: `radial-gradient(circle, ${palette.fg}${Math.round(ring.opacity * 255).toString(16).padStart(2, '0')} 0%, transparent 70%)`,
                filter: 'blur(10px)',
              }}
            />
          ))}

          {/* Core ember particles */}
          {coreEmbers.map((ember, i) => (
            <div
              key={`core-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${ember.x}%`,
                top: `${ember.y}%`,
                width: ember.size,
                height: ember.size,
                transform: 'translate(-50%, -50%)',
                background: `radial-gradient(circle, ${palette.fg} 0%, ${palette.accent} 60%, transparent 100%)`,
                opacity: ember.opacity,
                boxShadow: `0 0 ${ember.size * 2}px ${palette.fg}`,
                filter: `blur(${ember.blur}px)`,
              }}
            />
          ))}

          {/* Rising sparks */}
          {sparks.map((spark, i) => (
            <div
              key={`spark-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${spark.x}%`,
                top: `${spark.y}%`,
                width: spark.size,
                height: spark.size,
                background: palette.fg,
                opacity: spark.opacity,
                boxShadow: `0 0 ${spark.size * 3}px ${palette.fg}80`,
              }}
            />
          ))}

          {/* Bottom accent line */}
          <div
            className="absolute"
            style={{
              left: '10%',
              right: '10%',
              bottom: '12%',
              height: 1,
              background: `linear-gradient(90deg, transparent 0%, ${palette.accent}30 20%, ${palette.accent}30 80%, transparent 100%)`,
            }}
          />

          {/* Corner brackets */}
          <div className="absolute" style={{ left: 24, top: 24, width: 30, height: 30, borderLeft: `2px solid ${palette.accent}25`, borderTop: `2px solid ${palette.accent}25` }} />
          <div className="absolute" style={{ right: 24, bottom: 24, width: 30, height: 30, borderRight: `2px solid ${palette.accent}25`, borderBottom: `2px solid ${palette.accent}25` }} />
        </div>
      );
    };

    // GENERIC DRIFT: Orb/ember shifted to bottom-left area
    const GenericDriftBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Drifted position - bottom left quadrant
      const orbX = 15 + seededRandom(seed) * 20;
      const orbY = 65 + seededRandom(seed + 1) * 20;
      const orbSize = 80 + seededRandom(seed + 2) * 50;

      // Secondary small orb - opposite corner
      const secondaryX = 75 + seededRandom(seed + 3) * 20;
      const secondaryY = 15 + seededRandom(seed + 4) * 20;
      const secondarySize = 30 + seededRandom(seed + 5) * 25;

      // Connecting line/arc between the two
      const lineAngle = Math.atan2(secondaryY - orbY, secondaryX - orbX) * 180 / Math.PI;

      // Floating particles along the path
      const particles = Array.from({ length: 12 }, (_, i) => {
        const t = i / 11;
        return {
          x: orbX + (secondaryX - orbX) * t + (seededRandom(seed + i * 7 + 50) - 0.5) * 10,
          y: orbY + (secondaryY - orbY) * t + (seededRandom(seed + i * 11 + 50) - 0.5) * 10,
          size: 2 + seededRandom(seed + i * 13 + 50) * 4,
          opacity: 0.15 + seededRandom(seed + i * 17 + 50) * 0.35,
        };
      });

      // Diagonal lines
      const lines = Array.from({ length: 5 }, (_, i) => ({
        x: seededRandom(seed + i * 5 + 100) * 100,
        length: 100 + seededRandom(seed + i * 7 + 100) * 180,
        opacity: 0.02 + seededRandom(seed + i * 11 + 100) * 0.04,
        angle: 20 + seededRandom(seed + i * 13 + 100) * 50,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Base gradient - glow from main orb position */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at ${orbX}% ${orbY}%, ${palette.fg}10 0%, ${palette.bg} 50%, #000000 100%)`,
            }}
          />

          {/* Secondary glow from small orb */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at ${secondaryX}% ${secondaryY}%, ${palette.accent}08 0%, transparent 40%)`,
            }}
          />

          {/* Diagonal structural lines */}
          {lines.map((line, i) => (
            <div
              key={`line-${i}`}
              className="absolute"
              style={{
                left: `${line.x}%`,
                top: '50%',
                width: 1,
                height: line.length,
                background: palette.fg,
                opacity: line.opacity,
                transform: `translateY(-50%) rotate(${line.angle}deg)`,
              }}
            />
          ))}

          {/* Connection line between orbs */}
          <div
            className="absolute"
            style={{
              left: `${orbX}%`,
              top: `${orbY}%`,
              width: Math.sqrt(Math.pow(secondaryX - orbX, 2) + Math.pow(secondaryY - orbY, 2)) * 1.2 + '%',
              height: 1,
              background: `linear-gradient(90deg, ${palette.fg}20 0%, ${palette.accent}15 50%, ${palette.fg}10 100%)`,
              transform: `rotate(${lineAngle}deg)`,
              transformOrigin: 'left center',
            }}
          />

          {/* Particles along path */}
          {particles.map((p, i) => (
            <div
              key={`particle-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${p.x}%`,
                top: `${p.y}%`,
                width: p.size,
                height: p.size,
                background: palette.fg,
                opacity: p.opacity,
                boxShadow: `0 0 ${p.size * 2}px ${palette.fg}40`,
              }}
            />
          ))}

          {/* Main orb - bottom left */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${orbX}%`,
              top: `${orbY}%`,
              width: orbSize,
              height: orbSize,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle at 30% 30%, ${palette.fg}90, ${palette.accent}70, transparent)`,
              boxShadow: `0 0 50px ${palette.fg}40`,
            }}
          />

          {/* Main orb ring */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${orbX}%`,
              top: `${orbY}%`,
              width: orbSize + 14,
              height: orbSize + 14,
              transform: 'translate(-50%, -50%)',
              border: `1px solid ${palette.accent}50`,
              boxShadow: `0 0 25px ${palette.accent}25`,
            }}
          />

          {/* Secondary orb - top right */}
          <div
            className="absolute rounded-full"
            style={{
              left: `${secondaryX}%`,
              top: `${secondaryY}%`,
              width: secondarySize,
              height: secondarySize,
              transform: 'translate(-50%, -50%)',
              background: `radial-gradient(circle at 35% 35%, ${palette.accent}80, ${palette.fg}50, transparent)`,
              boxShadow: `0 0 30px ${palette.accent}30`,
            }}
          />

          {/* Corner brackets */}
          <div className="absolute" style={{ left: 24, top: 24, width: 30, height: 30, borderLeft: `2px solid ${palette.accent}25`, borderTop: `2px solid ${palette.accent}25` }} />
          <div className="absolute" style={{ right: 24, bottom: 24, width: 30, height: 30, borderRight: `2px solid ${palette.accent}25`, borderBottom: `2px solid ${palette.accent}25` }} />
        </div>
      );
    };

    // GENERIC ORB: Original - orb in corner
    const GenericOrbBackground = ({ seed = 42, palette, exportMode = false }) => {
      // Corner orb position (small signature element)
      const orbX = 85 + seededRandom(seed) * 10;
      const orbY = 20 + seededRandom(seed + 1) * 15;
      const orbSize = 60 + seededRandom(seed + 2) * 40;

      // Diagonal lines for subtle structure
      const lines = Array.from({ length: 8 }, (_, i) => ({
        x: seededRandom(seed + i * 5 + 10) * 100,
        length: 100 + seededRandom(seed + i * 7 + 10) * 200,
        opacity: 0.03 + seededRandom(seed + i * 11 + 10) * 0.06,
        angle: 30 + seededRandom(seed + i * 13 + 10) * 30,
      }));

      // Floating dots/particles
      const particles = Array.from({ length: 15 }, (_, i) => ({
        x: seededRandom(seed + i * 3 + 50) * 100,
        y: seededRandom(seed + i * 5 + 50) * 100,
        size: 2 + seededRandom(seed + i * 7 + 50) * 4,
        opacity: 0.2 + seededRandom(seed + i * 11 + 50) * 0.4,
      }));

      // Subtle gradient bands
      const bands = Array.from({ length: 3 }, (_, i) => ({
        y: 20 + i * 30 + seededRandom(seed + i * 17) * 20,
        opacity: 0.02 + seededRandom(seed + i * 19) * 0.03,
      }));

      return (
        <div className="absolute inset-0 overflow-hidden">
          {/* Base gradient - subtle warmth from corner */}
          <div
            className="absolute inset-0"
            style={{
              background: `radial-gradient(ellipse at ${orbX}% ${orbY}%, ${palette.fg}08 0%, ${palette.bg} 50%, #000000 100%)`,
            }}
          />

          {/* Horizontal gradient bands */}
          {bands.map((band, i) => (
            <div
              key={`band-${i}`}
              className="absolute"
              style={{
                left: 0,
                right: 0,
                top: `${band.y}%`,
                height: 80,
                background: `linear-gradient(90deg, transparent 0%, ${palette.fg}${Math.round(band.opacity * 255).toString(16).padStart(2, '0')} 30%, ${palette.fg}${Math.round(band.opacity * 255).toString(16).padStart(2, '0')} 70%, transparent 100%)`,
                filter: 'blur(30px)',
              }}
            />
          ))}

          {/* Diagonal structural lines */}
          {lines.map((line, i) => (
            <div
              key={`line-${i}`}
              className="absolute"
              style={{
                left: `${line.x}%`,
                top: '50%',
                width: 1,
                height: line.length,
                background: palette.fg,
                opacity: line.opacity,
                transform: `translateY(-50%) rotate(${line.angle}deg)`,
                transformOrigin: 'center',
              }}
            />
          ))}

          {/* Floating particles */}
          {particles.map((p, i) => (
            <div
              key={`particle-${i}`}
              className="absolute rounded-full"
              style={{
                left: `${p.x}%`,
                top: `${p.y}%`,
                width: p.size,
                height: p.size,
                background: palette.fg,
                opacity: p.opacity,
                boxShadow: `0 0 ${p.size * 2}px ${palette.fg}40`,
              }}
            />
          ))}

          {/* Corner signature orb - small but present */}
          <div
            className="absolute rounded-full"
            style={{
              right: `${100 - orbX}%`,
              top: `${orbY}%`,
              width: orbSize,
              height: orbSize,
              transform: 'translate(50%, -50%)',
              background: `radial-gradient(circle at 30% 30%, ${palette.fg}80, ${palette.accent}60, transparent)`,
              boxShadow: `0 0 40px ${palette.fg}30`,
            }}
          />

          {/* Accent ring around orb */}
          <div
            className="absolute rounded-full"
            style={{
              right: `${100 - orbX}%`,
              top: `${orbY}%`,
              width: orbSize + 12,
              height: orbSize + 12,
              transform: 'translate(50%, -50%)',
              border: `1px solid ${palette.accent}40`,
              boxShadow: `0 0 20px ${palette.accent}20`,
            }}
          />

          {/* Bottom accent line */}
          <div
            className="absolute"
            style={{
              left: '10%',
              right: '10%',
              bottom: '12%',
              height: 1,
              background: `linear-gradient(90deg, transparent 0%, ${palette.accent}30 20%, ${palette.accent}30 80%, transparent 100%)`,
            }}
          />

          {/* Corner brackets */}
          <div
            className="absolute"
            style={{
              left: 24,
              top: 24,
              width: 30,
              height: 30,
              borderLeft: `2px solid ${palette.accent}25`,
              borderTop: `2px solid ${palette.accent}25`,
            }}
          />
          <div
            className="absolute"
            style={{
              right: 24,
              bottom: 24,
              width: 30,
              height: 30,
              borderRight: `2px solid ${palette.accent}25`,
              borderBottom: `2px solid ${palette.accent}25`,
            }}
          />
        </div>
      );
    };

    // === CONTENT TYPE CONFIG ===
    const CONTENT_TYPES = {
      music: { label: 'Music', icon: '♪', vibe: '8-bit', Background: MusicBackground, description: 'Stepped waveforms, scan lines, Berlin techno' },
      toys: { label: 'Toys', icon: '◆', vibe: 'pixel', Background: ToysBackground, description: 'Bouncy shapes, pixel grid, arcade energy' },
      inventions: { label: 'Inventions', icon: '⚡', vibe: 'glitch', Background: InventionsBackground, description: 'Circuit traces, scan lines, glitch artifacts' },
      reflections: { label: 'Reflections', icon: '◐', vibe: 'smooth', Background: ReflectionsBackground, description: 'Soft ripples, breathing gradients, minimal' },
      ascii: { label: 'ASCII Art', icon: '█', vibe: 'bitmap', Background: AsciiBackground, description: 'Box-drawing, grain texture, terminal feel' },
      highdef: { label: 'High-def Art', icon: '○', vibe: 'luminous', Background: HighdefBackground, description: 'Smooth orbs, radial glows, polished' },
      generic: { label: 'Generic', icon: '◈', vibe: 'versatile', Background: GenericBackground, description: "Chef's choice — clean, balanced, works for anything" },
    };

    const EXAMPLE_TITLES = {
      music: 'PULSE GRID',
      toys: 'PENDULUM',
      inventions: 'DERANGED COOKIES',
      reflections: 'ON STILLNESS',
      ascii: 'RECEIPT FROM THE UNIVERSE',
      highdef: 'CONVERGENCE',
      generic: 'SOMETHING NEW',
    };

    // === COMPONENTS ===
    const OGPreview = ({ type, title, seed, paletteIndex, musicHorizontal, toysGooey, highdefMode, asciiMode, genericMode }) => {
      const config = CONTENT_TYPES[type];
      const palette = PALETTES[type][paletteIndex];
      const { Background } = config;

      const bgProps = { seed, palette, exportMode: isExportMode };
      if (type === 'music') bgProps.isHorizontal = musicHorizontal;
      if (type === 'toys') bgProps.isGooey = toysGooey;
      if (type === 'highdef') bgProps.mode = highdefMode;
      if (type === 'ascii') bgProps.mode = asciiMode;
      if (type === 'generic') bgProps.mode = genericMode;

      return (
        <div className="relative w-full rounded-lg overflow-hidden shadow-2xl" style={{ background: palette.bg, aspectRatio: '1200 / 630' }}>
          <Background {...bgProps} />
          {!isExportMode && (
            <>
              <div className="absolute inset-0 flex flex-col items-center justify-center p-8">
                <div className="text-xs tracking-widest mb-3 uppercase" style={{ color: palette.fg, opacity: 0.5, fontFamily: "'Space Mono', monospace", letterSpacing: '0.2em' }}>
                  {config.icon} {config.label}
                </div>
                <h1 className="text-5xl md:text-6xl tracking-wide text-center uppercase" style={{ color: palette.fg, fontFamily: "'Inter', sans-serif", fontWeight: 600, letterSpacing: '0.04em', textShadow: `0 0 60px ${palette.fg}40` }}>
                  {title}
                </h1>
                <div className="mt-4 text-base" style={{ color: palette.fg, opacity: 0.5, fontFamily: "'Inter', sans-serif", fontWeight: 400 }}>
                  by Amber
                </div>
                <div className="w-16 h-0.5 mt-5 rounded-full" style={{ background: palette.accent }} />
              </div>
              <div className="absolute bottom-3 right-4 text-xs" style={{ color: palette.fg, opacity: 0.25, fontFamily: "'Space Mono', monospace" }}>
                intheamber.com
              </div>
              <div className="absolute top-3 left-4 text-xs px-2 py-1 rounded" style={{ background: `${palette.fg}10`, color: palette.fg, opacity: 0.6, fontFamily: "'Space Mono', monospace", fontSize: '10px', letterSpacing: '0.1em' }}>
            {config.vibe}
          </div>
          <div className="absolute top-3 right-4 text-xs px-2 py-1 rounded" style={{ background: `${palette.fg}10`, color: palette.fg, opacity: 0.6, fontFamily: "'Space Mono', monospace" }}>
            {palette.name}
          </div>
            </>
          )}
        </div>
      );
    };

    const PaletteSwatches = ({ type, selectedIndex, onSelect, palettes: customPalettes }) => {
      const palettes = customPalettes || PALETTES[type];
      return (
        <div className="flex gap-2">
          {palettes.map((p, i) => (
            <button key={i} onClick={() => onSelect(i)} className="group relative" title={p.name}>
              <div className="w-10 h-10 rounded-lg overflow-hidden transition-transform" style={{ transform: selectedIndex === i ? 'scale(1.1)' : 'scale(1)', boxShadow: selectedIndex === i ? `0 0 0 2px ${p.fg}` : 'none' }}>
                <div className="w-full h-1/2" style={{ background: p.bg }} />
                <div className="w-full h-1/2 flex">
                  <div className="w-1/2 h-full" style={{ background: p.fg }} />
                  <div className="w-1/2 h-full" style={{ background: p.accent }} />
                </div>
              </div>
              <div className="absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity" style={{ color: '#888' }}>
                {p.name}
              </div>
            </button>
          ))}
        </div>
      );
    };

    function App() {
      const [selectedTypes, setSelectedTypes] = useState(['music', 'ascii']);
      const [paletteIndices, setPaletteIndices] = useState({ music: 2, toys: 2, inventions: 2, reflections: 0, ascii: 0, highdef: 0, generic: 0 });
      const [seeds, setSeeds] = useState({ music: 42, toys: 123, inventions: 456, reflections: 789, ascii: 101, highdef: 202, generic: 303 });
      const [musicHorizontal, setMusicHorizontal] = useState(false);
      const [toysGooey, setToysGooey] = useState(false);
      const [highdefMode, setHighdefMode] = useState('orb'); // 'orb', 'aurora', 'prism'
      const [asciiMode, setAsciiMode] = useState('dense'); // 'dense', 'float', 'vignette'
      const [genericMode, setGenericMode] = useState('orb'); // 'orb', 'ember', 'drift'

      const regenerate = (type) => setSeeds(prev => ({ ...prev, [type]: Math.floor(Math.random() * 10000) }));
      const selectPalette = (type, index) => setPaletteIndices(prev => ({ ...prev, [type]: index }));

      return (
        <div className="min-h-screen p-6" style={{ background: '#000000' }}>
          <div className="max-w-5xl mx-auto">
            <div className="mb-8 text-center">
              <div className="text-xs tracking-widest mb-2 uppercase" style={{ color: '#8A8A8A', fontFamily: "'Space Mono', monospace", letterSpacing: '0.3em' }}>
                Visual Language
              </div>
              <h1 className="text-3xl font-light mb-2" style={{ color: '#F5C87A', fontFamily: "'Inter', sans-serif" }}>
                Amber OG Design System
              </h1>
              <p className="text-sm" style={{ color: '#2D9596', fontFamily: "'Space Mono', monospace" }}>
                bitmap × high-def — 30 palettes across 6 content types
              </p>
            </div>

            <div className="mb-8 p-4 rounded-lg" style={{ background: '#0D0D0D', border: '1px solid #2D2D2D' }}>
              <div className="flex flex-wrap gap-4 justify-center text-xs" style={{ fontFamily: "'Space Mono', monospace" }}>
                <div style={{ color: '#8A8A8A' }}><span style={{ color: '#D4A574' }}>BITMAP:</span> music, toys, inventions, ascii</div>
                <div style={{ color: '#8A8A8A' }}><span style={{ color: '#40E0D0' }}>HIGH-DEF:</span> reflections, highdef</div>
              </div>
            </div>

            <div className="flex flex-wrap gap-2 mb-8 justify-center">
              {Object.entries(CONTENT_TYPES).map(([key, config]) => {
                const isSelected = selectedTypes.includes(key);
                const palette = PALETTES[key][paletteIndices[key]];
                return (
                  <button
                    key={key}
                    onClick={() => {
                      if (isSelected && selectedTypes.length > 1) setSelectedTypes(prev => prev.filter(t => t !== key));
                      else if (!isSelected && selectedTypes.length < 2) setSelectedTypes(prev => [...prev, key]);
                      else if (!isSelected) setSelectedTypes(prev => [prev[1], key]);
                    }}
                    className="px-4 py-2 rounded-lg text-sm transition-all"
                    style={{ background: isSelected ? palette.fg + '15' : 'transparent', border: `1px solid ${isSelected ? palette.fg : '#2D2D2D'}`, color: isSelected ? palette.fg : '#4A4A4A', fontFamily: "'Space Mono', monospace" }}
                  >
                    {config.icon} {config.label}
                  </button>
                );
              })}
            </div>

            <div className="space-y-12">
              {selectedTypes.map((type) => {
                const config = CONTENT_TYPES[type];
                const palette = PALETTES[type][paletteIndices[type]];
                return (
                  <div key={type}>
                    <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4">
                      <div>
                        <div className="flex items-center gap-2 mb-1">
                          <span className="text-lg font-bold uppercase tracking-wider" style={{ color: palette.fg, fontFamily: "'Space Mono', monospace" }}>
                            {config.icon} {config.label}
                          </span>
                          <span className="text-xs px-2 py-0.5 rounded" style={{ background: `${palette.accent}30`, color: palette.accent, fontFamily: "'Space Mono', monospace" }}>
                            {config.vibe}
                          </span>
                        </div>
                        <p className="text-xs" style={{ color: '#8A8A8A', fontFamily: "'Inter', sans-serif" }}>{config.description}</p>
                      </div>
                      <div className="flex gap-2 self-start">
                        {type === 'music' && (
                          <button onClick={() => setMusicHorizontal(h => !h)} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                            {musicHorizontal ? '⬌ Horiz' : '⬍ Vert'}
                          </button>
                        )}
                        {type === 'toys' && (
                          <button onClick={() => setToysGooey(g => !g)} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                            {toysGooey ? '◠ Gooey' : '▦ Blocky'}
                          </button>
                        )}
                        {type === 'highdef' && (
                          <button onClick={() => setHighdefMode(m => m === 'orb' ? 'aurora' : m === 'aurora' ? 'prism' : 'orb')} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                            {highdefMode === 'orb' ? '◉ Orb' : highdefMode === 'aurora' ? '≋ Aurora' : '◇ Prism'}
                          </button>
                        )}
                        {type === 'ascii' && (
                          <button onClick={() => setAsciiMode(m => m === 'dense' ? 'float' : m === 'float' ? 'vignette' : 'dense')} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                            {asciiMode === 'dense' ? '▦ Dense' : asciiMode === 'float' ? '◌ Float' : '◎ Vignette'}
                          </button>
                        )}
                        {type === 'generic' && (
                          <button onClick={() => setGenericMode(m => m === 'orb' ? 'ember' : m === 'ember' ? 'drift' : 'orb')} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                            {genericMode === 'orb' ? '◉ Orb' : genericMode === 'ember' ? '✦ Ember' : '↘ Drift'}
                          </button>
                        )}
                        <button onClick={() => regenerate(type)} className="px-3 py-1.5 rounded text-xs transition-all hover:opacity-80" style={{ background: `${palette.fg}10`, color: palette.fg, border: `1px solid ${palette.fg}30`, fontFamily: "'Space Mono', monospace" }}>
                          ↻ Regenerate
                        </button>
                      </div>
                    </div>
                    <div className="mb-6">
                      <div className="text-xs mb-3 uppercase tracking-wider" style={{ color: '#4A4A4A', fontFamily: "'Space Mono', monospace" }}>Palette:</div>
                      <PaletteSwatches type={type} selectedIndex={paletteIndices[type]} onSelect={(i) => selectPalette(type, i)} />
                    </div>
                    <OGPreview type={type} title={EXAMPLE_TITLES[type]} seed={seeds[type]} paletteIndex={paletteIndices[type]} musicHorizontal={musicHorizontal} toysGooey={toysGooey} highdefMode={highdefMode} asciiMode={asciiMode} genericMode={genericMode} />
                  </div>
                );
              })}
            </div>

            <div className="mt-16 p-6 rounded-xl" style={{ background: '#0D0D0D', border: '1px solid #2D2D2D' }}>
              <h2 className="text-sm font-bold mb-6 uppercase tracking-wider" style={{ color: '#F5C87A', fontFamily: "'Space Mono', monospace" }}>Complete Palette Reference</h2>
              <div className="space-y-6">
                {Object.entries(PALETTES).filter(([type]) => CONTENT_TYPES[type]).map(([type, palettes]) => (
                  <div key={type}>
                    <div className="flex items-center gap-2 mb-3">
                      <span className="text-xs uppercase tracking-wider" style={{ color: '#8A8A8A', fontFamily: "'Space Mono', monospace" }}>{CONTENT_TYPES[type].icon} {CONTENT_TYPES[type].label}</span>
                      <span className="text-xs px-1.5 py-0.5 rounded" style={{ background: CONTENT_TYPES[type].vibe === 'smooth' || CONTENT_TYPES[type].vibe === 'luminous' ? '#2D959620' : '#D4A57420', color: CONTENT_TYPES[type].vibe === 'smooth' || CONTENT_TYPES[type].vibe === 'luminous' ? '#2D9596' : '#D4A574', fontFamily: "'Space Mono', monospace", fontSize: '10px' }}>{CONTENT_TYPES[type].vibe}</span>
                    </div>
                    <div className="grid grid-cols-5 gap-2">
                      {palettes.map((p, i) => (
                        <div key={i} className="space-y-1">
                          <div className="h-12 rounded-lg flex items-end p-2" style={{ background: p.bg, border: `1px solid ${p.fg}20` }}>
                            <div className="flex gap-1">
                              <div className="w-3 h-3 rounded-full" style={{ background: p.fg }} />
                              <div className="w-3 h-3 rounded-full" style={{ background: p.accent }} />
                            </div>
                          </div>
                          <div className="text-xs text-center" style={{ color: '#4A4A4A', fontFamily: "'Space Mono', monospace" }}>{p.name}</div>
                        </div>
                      ))}
                    </div>
                  </div>
                ))}
              </div>
            </div>

            <div className="mt-8 p-6 rounded-xl" style={{ background: '#0D0D0D', border: '1px solid #2D2D2D' }}>
              <h2 className="text-sm font-bold mb-4 uppercase tracking-wider" style={{ color: '#F5C87A', fontFamily: "'Space Mono', monospace" }}>The Tension</h2>
              <div className="text-sm leading-relaxed" style={{ color: '#8A8A8A', fontFamily: "'Inter', sans-serif" }}>
                <p className="mb-4">Amber's visual language plays two aesthetics against each other: the <strong style={{ color: '#D4A574' }}>lo-fi warmth of bitmap</strong> (nostalgia, constraint, texture) against <strong style={{ color: '#40E0D0' }}>high-definition smoothness</strong> (precision, glow, depth).</p>
                <p>The tension between these creates something that feels both ancient and futuristic — like amber itself, which is ancient resin that looks like it's lit from within.</p>
              </div>
              <div className="mt-6 grid sm:grid-cols-2 gap-4 text-xs" style={{ fontFamily: "'Space Mono', monospace" }}>
                <div className="p-3 rounded-lg" style={{ background: '#1A1A1A', borderLeft: '3px solid #D4A574' }}>
                  <div style={{ color: '#D4A574' }} className="mb-2">BITMAP VIBE</div>
                  <div style={{ color: '#8A8A8A' }}>8-bit steps, scan lines, pixel grids, ASCII texture, sharp edges, quantized values</div>
                </div>
                <div className="p-3 rounded-lg" style={{ background: '#1A1A1A', borderLeft: '3px solid #40E0D0' }}>
                  <div style={{ color: '#40E0D0' }} className="mb-2">HIGH-DEF VIBE</div>
                  <div style={{ color: '#8A8A8A' }}>Smooth gradients, soft glows, radial orbs, blur effects, breathing animation</div>
                </div>
              </div>
            </div>

            <footer className="mt-12 text-center">
              <p className="text-xs" style={{ color: '#4A4A4A', fontFamily: "'Space Mono', monospace" }}>
                Berlin × ASCII × Future — <a href="https://intheamber.com" style={{ color: '#2D9596' }}>intheamber.com</a>
              </p>
            </footer>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
