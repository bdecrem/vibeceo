<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kochi Play-Doh Animation</title>
  <style>
    body {
      margin: 0;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      font-family: 'Comic Sans MS', cursive, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    #kochi-container {
      width: 400px;
      height: 400px;
      cursor: pointer;
      filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
    }

    #controls {
      margin-top: 30px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }

    button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 25px;
      background: white;
      color: #667eea;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    button:active {
      transform: translateY(0);
    }

    h1 {
      color: white;
      text-align: center;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
      margin-bottom: 10px;
    }

    p {
      color: rgba(255,255,255,0.9);
      text-align: center;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <h1>üé® Kochi Play-Doh Physics</h1>
  <p>Click Kochi or use buttons to trigger animations</p>

  <div id="kochi-container">
    <svg id="kochi" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
      <style>
        #rig {
          transform-box: fill-box;
          transform-origin: 50% 100%;
        }
        #antennaL, #antennaR {
          transform-box: fill-box;
          transform-origin: 50% 100%;
        }
        #face, #eyeL, #eyeR {
          transform-box: fill-box;
          transform-origin: 50% 50%;
        }
        :root {
          --tone: #e7d8b2;
          --ink: #252520;
        }
        .cls-2 { fill: var(--tone); }
        .cls-4 { fill: var(--ink); }
      </style>

      <defs>
        <clipPath id="eyeWinL">
          <rect x="370.33" y="472.78" width="89.86" height="103.25" rx="3.37" ry="3.37"/>
        </clipPath>
        <clipPath id="eyeWinR">
          <rect x="563.76" y="473.72" width="89.86" height="103.25" rx="3.37" ry="3.37"/>
        </clipPath>
      </defs>

      <g id="rig">
        <!-- BODY -->
        <path id="body" class="cls-2" d="M683.45,329.82c18.98,2.8,33.24,6.06,50.76,14.62,35.89,17.46,63.28,48.56,76.07,86.36,4.06,11.82,6.61,24.12,7.58,36.58,1.18,15.89.58,37.02.57,53.36v160.01c.03,39.08,1.37,58.72-16.71,95.43-4.62,8.73-10.05,17-16.22,24.71-24.94,30.6-61.13,49.9-100.44,53.55-8.58.87-17.82.66-26.49.67h-262.07c-19.64.01-52.79,1.1-70.56-2.08-24.48-4.58-47.42-15.21-66.75-30.91-30.17-24.68-49.28-60.35-53.15-99.13-1.4-14.18-.83-33.97-.82-48.65v-155.98c0-20.88-1.06-48.11,3.05-67.98,5.1-24.54,16.11-47.48,32.08-66.8,24.97-30.39,61.04-49.55,100.2-53.24l30-1.37c31.21.58,63.94.04,95.33.04h188.11l29.45.8Z"/>

        <!-- FACE -->
        <path id="face" class="cls-4" d="M368.86,396.22c19.97-.76,43.57-.16,63.77-.16h119.92l68.48-.03c16.43,0,36.81-.77,52.64,2.14,17.9,3.34,34.53,11.54,48.09,23.7,35.34,31.85,29.44,68.67,29.73,111.15.25,35.16,2.89,66.4-23.44,94.25-19.69,20.83-44.77,29.9-72.95,30.95-18.65.85-43.06.12-62.11.12h-121.37l-71.79.03c-15.98,0-32.89.85-48.66-1.67-43.24-6.92-77.21-41.86-78.65-86.3-.51-15.56,0-31.42-.22-46.72-.5-34.94-2.44-68.51,23.8-95.85,19.96-21.63,44.12-30.08,72.76-31.61Z"/>

        <!-- LEFT EYE -->
        <g id="eyeL" clip-path="url(#eyeWinL)">
          <path class="cls-2" d="M407.97,480.09c24.63-4.05,47.83,12.75,51.68,37.41,3.84,24.66-13.15,47.73-37.85,51.36-24.4,3.59-47.13-13.16-50.93-37.53-3.8-24.37,12.76-47.24,37.1-51.24Z"/>
          <rect id="lidL" class="cls-4" x="370.33" y="472.78" width="89.86" height="103.25" rx="3.37" ry="3.37"/>
        </g>

        <!-- RIGHT EYE -->
        <g id="eyeR" clip-path="url(#eyeWinR)">
          <path class="cls-2" d="M601.19,480.33c24.33-4.14,47.42,12.22,51.57,36.55,4.16,24.33-12.19,47.42-36.52,51.59-24.34,4.17-47.46-12.19-51.62-36.54-4.16-24.35,12.22-47.45,36.56-51.6Z"/>
          <rect id="lidR" class="cls-4" x="563.76" y="473.72" width="89.86" height="103.25" rx="3.37" ry="3.37"/>
        </g>

        <!-- ANTENNAE -->
        <path id="antennaL" class="cls-2" d="M340.3,340.46l.07-85.28c-3.86-1.57-7.22-3.36-10.54-5.9-8.65-6.52-14.33-16.24-15.74-26.98-3.11-23.88,12.76-43.28,36.49-45.98,5.34-.55,11.32.08,16.46,1.6,10.58,3.05,19.49,10.23,24.72,19.92,5.09,9.28,6.15,20.23,2.96,30.32-4.25,13.68-12.21,20.82-24.35,27.24.3,24.83-.61,60.23-.75,85.07h-29.32Z"/>
        <path id="antennaR" class="cls-2" d="M653.82,340.46v-84.79c-3.31-1.74-6.16-3.07-9.19-5.32-13.89-10.31-20.03-27.29-15.34-44.1,2.91-10.52,9.98-19.41,19.57-24.62,9.85-5.44,21.48-6.68,32.26-3.43,10.58,3.21,19.14,9.94,24.26,19.78,5.03,9.73,5.99,21.07,2.68,31.51-4.28,13.19-12.96,20.02-24.78,26.05v84.93h-29.46Z"/>
      </g>
    </svg>
  </div>

  <div id="controls">
    <button onclick="squashBounce()">üí• Squash & Bounce</button>
    <button onclick="wobble()">üéµ Wobble</button>
    <button onclick="blink()">üëÅÔ∏è Blink</button>
    <button onclick="jump()">‚¨ÜÔ∏è Jump</button>
    <button onclick="shake()">üåä Shake</button>
    <button onclick="excited()">üéâ Excited</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

  <script>
    // IDLE BREATHING - always running
    function startIdle() {
      gsap.to("#rig", {
        scaleY: 1.08,
        scaleX: 0.98,
        duration: 2.5,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1
      });

      // Subtle antenna sway
      gsap.to("#antennaL", {
        rotation: -8,
        duration: 3,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1
      });

      gsap.to("#antennaR", {
        rotation: 8,
        duration: 2.7,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1,
        delay: 0.5
      });

      // Occasional auto-blink
      function autoBlink() {
        blinkEyes();
        gsap.delayedCall(3 + Math.random() * 4, autoBlink);
      }
      autoBlink();
    }

    // SQUASH & BOUNCE - the money shot
    function squashBounce() {
      const tl = gsap.timeline();

      // 1. ANTICIPATION - slight stretch up
      tl.to("#rig", {
        scaleY: 1.15,
        scaleX: 0.92,
        duration: 0.18,
        ease: "power2.out"
      })

      // 2. SQUASH DOWN - massive deformation
      .to("#rig", {
        scaleY: 0.55,
        scaleX: 1.35,
        duration: 0.15,
        ease: "power4.in"
      })

      // 3. BOUNCE UP - big overshoot
      .to("#rig", {
        scaleY: 1.25,
        scaleX: 0.85,
        duration: 0.35,
        ease: "power2.out"
      })

      // 4. SECONDARY BOUNCE
      .to("#rig", {
        scaleY: 0.92,
        scaleX: 1.05,
        duration: 0.25,
        ease: "power2.in"
      })

      // 5. TERTIARY BOUNCE
      .to("#rig", {
        scaleY: 1.06,
        scaleX: 0.97,
        duration: 0.3,
        ease: "power1.out"
      })

      // 6. SETTLE
      .to("#rig", {
        scaleY: 1,
        scaleX: 1,
        duration: 0.4,
        ease: "power1.inOut"
      });

      // ANTENNA LAG - delayed reaction with overshoot
      gsap.to("#antennaL", {
        rotation: -35,
        duration: 0.15,
        ease: "power2.in",
        delay: 0.2
      });

      gsap.to("#antennaL", {
        rotation: 25,
        duration: 0.4,
        ease: "elastic.out(1.2, 0.4)",
        delay: 0.35
      });

      gsap.to("#antennaL", {
        rotation: 0,
        duration: 0.8,
        ease: "elastic.out(1, 0.3)",
        delay: 0.75
      });

      gsap.to("#antennaR", {
        rotation: 35,
        duration: 0.15,
        ease: "power2.in",
        delay: 0.22
      });

      gsap.to("#antennaR", {
        rotation: -25,
        duration: 0.4,
        ease: "elastic.out(1.2, 0.4)",
        delay: 0.37
      });

      gsap.to("#antennaR", {
        rotation: 0,
        duration: 0.8,
        ease: "elastic.out(1, 0.3)",
        delay: 0.77
      });

      // FACE SQUISH during impact
      gsap.to("#face", {
        scaleY: 0.8,
        scaleX: 1.15,
        duration: 0.12,
        ease: "power2.in",
        delay: 0.18,
        yoyo: true,
        repeat: 1
      });

      // EYES spread during squash
      gsap.to("#eyeL, #eyeR", {
        scaleX: 1.3,
        scaleY: 0.7,
        duration: 0.1,
        ease: "power2.in",
        delay: 0.18,
        yoyo: true,
        repeat: 1
      });
    }

    // WOBBLE - side to side with elastic
    function wobble() {
      const tl = gsap.timeline();

      tl.to("#rig", {
        rotation: -12,
        duration: 0.15,
        ease: "power2.out"
      })
      .to("#rig", {
        rotation: 15,
        duration: 0.25,
        ease: "power2.inOut"
      })
      .to("#rig", {
        rotation: -10,
        duration: 0.25,
        ease: "power2.inOut"
      })
      .to("#rig", {
        rotation: 6,
        duration: 0.25,
        ease: "power2.inOut"
      })
      .to("#rig", {
        rotation: 0,
        duration: 0.4,
        ease: "elastic.out(1, 0.3)"
      });

      // Antennas swing opposite
      gsap.to("#antennaL", {
        rotation: -45,
        duration: 0.2,
        ease: "power2.out",
        yoyo: true,
        repeat: 3
      });

      gsap.to("#antennaR", {
        rotation: 45,
        duration: 0.2,
        ease: "power2.out",
        yoyo: true,
        repeat: 3,
        delay: 0.1
      });
    }

    // BLINK - eyelid animation
    function blinkEyes() {
      const tl = gsap.timeline();

      // Close eyelids (scale down from top)
      tl.to("#lidL, #lidR", {
        scaleY: 0,
        transformOrigin: "50% 0%",
        duration: 0.08,
        ease: "power2.in"
      })

      // Hold closed
      .to("#lidL, #lidR", {
        scaleY: 0,
        duration: 0.06
      })

      // Open eyelids
      .to("#lidL, #lidR", {
        scaleY: 1,
        duration: 0.12,
        ease: "power2.out"
      });

      // Slight face squish during blink
      gsap.to("#face", {
        scaleY: 0.95,
        duration: 0.08,
        ease: "power2.inOut",
        yoyo: true,
        repeat: 1
      });
    }

    function blink() {
      blinkEyes();
    }

    // JUMP - anticipation + launch + land
    function jump() {
      const tl = gsap.timeline();

      // Crouch (anticipation)
      tl.to("#rig", {
        scaleY: 0.7,
        scaleX: 1.25,
        y: 50,
        duration: 0.25,
        ease: "power2.in"
      })

      // Launch (stretch)
      .to("#rig", {
        scaleY: 1.4,
        scaleX: 0.8,
        y: -150,
        duration: 0.4,
        ease: "power3.out"
      })

      // Peak (back to normal proportions)
      .to("#rig", {
        scaleY: 1.1,
        scaleX: 0.95,
        duration: 0.15,
        ease: "sine.inOut"
      })

      // Fall (stretch again)
      .to("#rig", {
        scaleY: 1.3,
        scaleX: 0.85,
        y: 0,
        duration: 0.3,
        ease: "power2.in"
      })

      // Land squash
      .to("#rig", {
        scaleY: 0.6,
        scaleX: 1.3,
        duration: 0.12,
        ease: "power2.out"
      })

      // Bounce settle
      .to("#rig", {
        scaleY: 1,
        scaleX: 1,
        duration: 0.6,
        ease: "elastic.out(1, 0.4)"
      });

      // Antennas flop around
      gsap.to("#antennaL, #antennaR", {
        rotation: -90,
        duration: 0.3,
        ease: "power2.out",
        delay: 0.25
      });

      gsap.to("#antennaL, #antennaR", {
        rotation: 0,
        duration: 0.8,
        ease: "elastic.out(1, 0.3)",
        delay: 0.55
      });
    }

    // SHAKE - rapid vibration
    function shake() {
      for (let i = 0; i < 8; i++) {
        gsap.to("#rig", {
          x: (i % 2 === 0 ? 15 : -15),
          y: (i % 3 === 0 ? 8 : -8),
          rotation: (i % 2 === 0 ? 5 : -5),
          duration: 0.05,
          delay: i * 0.05,
          ease: "none"
        });
      }

      gsap.to("#rig", {
        x: 0,
        y: 0,
        rotation: 0,
        duration: 0.3,
        delay: 0.4,
        ease: "elastic.out(1, 0.4)"
      });

      // Antennas go crazy
      gsap.to("#antennaL", {
        rotation: "random(-60, 60)",
        duration: 0.05,
        repeat: 7,
        ease: "none"
      });

      gsap.to("#antennaR", {
        rotation: "random(-60, 60)",
        duration: 0.05,
        repeat: 7,
        ease: "none",
        delay: 0.025
      });

      gsap.to("#antennaL, #antennaR", {
        rotation: 0,
        duration: 0.5,
        delay: 0.4,
        ease: "elastic.out(1.2, 0.3)"
      });
    }

    // EXCITED - bouncy celebration
    function excited() {
      const tl = gsap.timeline({ repeat: 2 });

      tl.to("#rig", {
        scaleY: 0.75,
        scaleX: 1.2,
        duration: 0.15,
        ease: "power2.in"
      })
      .to("#rig", {
        scaleY: 1.3,
        scaleX: 0.85,
        y: -80,
        duration: 0.3,
        ease: "power2.out"
      })
      .to("#rig", {
        scaleY: 0.7,
        scaleX: 1.25,
        y: 0,
        duration: 0.25,
        ease: "power2.in"
      });

      // Antennas wave
      gsap.to("#antennaL", {
        rotation: -50,
        duration: 0.2,
        ease: "power2.inOut",
        yoyo: true,
        repeat: 5
      });

      gsap.to("#antennaR", {
        rotation: 50,
        duration: 0.2,
        ease: "power2.inOut",
        yoyo: true,
        repeat: 5,
        delay: 0.1
      });

      // Eyes scale up and down
      gsap.to("#eyeL, #eyeR", {
        scale: 1.3,
        duration: 0.15,
        ease: "back.out(3)",
        yoyo: true,
        repeat: 5
      });
    }

    // Click to squash
    document.getElementById('kochi-container').addEventListener('click', squashBounce);

    // Start idle animation
    startIdle();
  </script>
</body>
</html>
